<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HPCloud-PHP: CDN Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HPCloud-PHP
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">PHP bindings for HPCloud and OpenStack services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_h_p_cloud_1_1_storage_1_1_c_d_n.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_h_p_cloud_1_1_storage_1_1_c_d_n-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CDN Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> services for <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>.  
 <a href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:accec6ad6d27ef05ebf39298e8cd31328"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#accec6ad6d27ef05ebf39298e8cd31328">__construct</a> ($token, $endpoint)</td></tr>
<tr class="memdesc:accec6ad6d27ef05ebf39298e8cd31328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object.  <a href="#accec6ad6d27ef05ebf39298e8cd31328"></a><br/></td></tr>
<tr class="memitem:a9d224c0b22767d111fb0313bb57890d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a9d224c0b22767d111fb0313bb57890d5">containers</a> ($enabledOnly=NULL)</td></tr>
<tr class="memdesc:a9d224c0b22767d111fb0313bb57890d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of containers that the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> system knows of.  <a href="#a9d224c0b22767d111fb0313bb57890d5"></a><br/></td></tr>
<tr class="memitem:a653db5e4640b0c47104ff55fe6ca4a5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a653db5e4640b0c47104ff55fe6ca4a5a">container</a> ($name)</td></tr>
<tr class="memdesc:a653db5e4640b0c47104ff55fe6ca4a5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a container by name.  <a href="#a653db5e4640b0c47104ff55fe6ca4a5a"></a><br/></td></tr>
<tr class="memitem:a492f5de07326499bdcd08cf7bc3b11d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a492f5de07326499bdcd08cf7bc3b11d8">enable</a> ($name, $ttl=NULL, &amp;$created=FALSE)</td></tr>
<tr class="memdesc:a492f5de07326499bdcd08cf7bc3b11d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable a container.  <a href="#a492f5de07326499bdcd08cf7bc3b11d8"></a><br/></td></tr>
<tr class="memitem:a07268b57a00f444996933b835312a178"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a07268b57a00f444996933b835312a178">update</a> ($name, $attrs)</td></tr>
<tr class="memdesc:a07268b57a00f444996933b835312a178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set attributes on a <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> container.  <a href="#a07268b57a00f444996933b835312a178"></a><br/></td></tr>
<tr class="memitem:af7c3ea3150164bc92700134803f277be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#af7c3ea3150164bc92700134803f277be">delete</a> ($name)</td></tr>
<tr class="memdesc:af7c3ea3150164bc92700134803f277be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to remove a container from <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>.  <a href="#af7c3ea3150164bc92700134803f277be"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a72023483f2440367a5de1a9849e2fda7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a72023483f2440367a5de1a9849e2fda7">newFromIdentity</a> ($identity)</td></tr>
<tr class="memdesc:a72023483f2440367a5de1a9849e2fda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new instance from an IdentityServices object.  <a href="#a72023483f2440367a5de1a9849e2fda7"></a><br/></td></tr>
<tr class="memitem:a355aa73bf541528609416c058093e07e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a355aa73bf541528609416c058093e07e">newFromServiceCatalog</a> ($catalog, $token)</td></tr>
<tr class="memdesc:a355aa73bf541528609416c058093e07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object based on a service catalog.  <a href="#a355aa73bf541528609416c058093e07e"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:adfb06b593915cb98c65845a2cc60a3be"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#adfb06b593915cb98c65845a2cc60a3be">SERVICE_TYPE</a> = 'hpext:cdn'</td></tr>
<tr class="memdesc:adfb06b593915cb98c65845a2cc60a3be"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service type.  <a href="#adfb06b593915cb98c65845a2cc60a3be"></a><br/></td></tr>
<tr class="memitem:a0ed0d8617b3abaac92e82720d9fab3f3"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a0ed0d8617b3abaac92e82720d9fab3f3">API_VERSION</a> = '1.0'</td></tr>
<tr class="memdesc:a0ed0d8617b3abaac92e82720d9fab3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The API version.  <a href="#a0ed0d8617b3abaac92e82720d9fab3f3"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a280cd614e7005c0abe40792910e3fbdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a280cd614e7005c0abe40792910e3fbdf">modifyContainer</a> ($name, $method, $headers=array(), $qstring= '')</td></tr>
<tr class="memdesc:a280cd614e7005c0abe40792910e3fbdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the given method on the given container.  <a href="#a280cd614e7005c0abe40792910e3fbdf"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:acf215f34a917d014776ce684a9ee8909"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#acf215f34a917d014776ce684a9ee8909">$url</a></td></tr>
<tr class="memdesc:acf215f34a917d014776ce684a9ee8909"><td class="mdescLeft">&#160;</td><td class="mdescRight">The URL to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> endpoint.  <a href="#acf215f34a917d014776ce684a9ee8909"></a><br/></td></tr>
<tr class="memitem:a00ae4fcafb1145f5e968bdf920f83e2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a00ae4fcafb1145f5e968bdf920f83e2e">$token</a></td></tr>
<tr class="memdesc:a00ae4fcafb1145f5e968bdf920f83e2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The authentication/authorization token.  <a href="#a00ae4fcafb1145f5e968bdf920f83e2e"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> services for <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>. </p>
<p><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> stands for "Content Distribution Network." It provides distributed caching in the cloud. When a Container is CDN-enabled, objects will be stored not <em>just</em> in the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>, but temporary cached copies will be stored on servers around the world.</p>
<dl class="section attention"><dt>Attention</dt><dd>Caches are not protected by authentication. If you store an object in a <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>, cached versions of that object are publically accessible. Setting an ACL will have very little impact on this.</dd></dl>
<p><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> is an <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> extension service, and is not presently part of OpenStack proper. The current REST API documentation can be found at <a href="http://api-docs.hpcloud.com/">http://api-docs.hpcloud.com/</a></p>
<p><b>Usage</b></p>
<p>The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service functions as an <em>add-on</em> to <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>. It adds a caching layer. So terms used here, such as Container and Object, refer to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> items.</p>
<p>For the most part, <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> operates on the Container level. You can choose to tell the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> about a particular Container in <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>, and it will cache items in that container.</p>
<p>The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service keeps a list of <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> Containers that it knows about. <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> does not automatically discover <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> Containers; you must tell <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> about the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> instances you want it to know about. This is done using <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a492f5de07326499bdcd08cf7bc3b11d8" title="Enable a container.">CDN::enable()</a>.</p>
<p>Once the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service knows about an <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> Container, it will begin caching objects in that container.</p>
<p>This library gives the the ability to do the following:</p>
<ul>
<li>List the containers that <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> knows about: <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a9d224c0b22767d111fb0313bb57890d5" title="Get a list of containers that the CDN system knows of.">CDN::containers()</a></li>
<li>Retrieve the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> properties for a particular Container: <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a653db5e4640b0c47104ff55fe6ca4a5a" title="Get a container by name.">CDN::container()</a>.</li>
<li>Add and enable containers: <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a492f5de07326499bdcd08cf7bc3b11d8" title="Enable a container.">CDN::enable()</a>.</li>
<li>Remove a Container from <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>: <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#af7c3ea3150164bc92700134803f277be" title="Attempt to remove a container from CDN.">CDN::delete()</a>.</li>
<li>Modify the caching properties of a Container: <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a07268b57a00f444996933b835312a178" title="Set attributes on a CDN container.">CDN::update()</a>.</li>
<li>Temporarily enable or disable caching for a container with <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a07268b57a00f444996933b835312a178" title="Set attributes on a CDN container.">CDN::update()</a>.</li>
</ul>
<p><b>Example</b></p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"><span class="comment">// Authentication info:</span></div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#afb5204f7604df2f50a0058cb0e024875">$endpoint</a> = <span class="stringliteral">&#39;https://auth.example.com&#39;</span>;</div>
<div class="line">$username = <span class="stringliteral">&#39;butcher@hp.com&#39;</span>;</div>
<div class="line">$password = <span class="stringliteral">&#39;secret&#39;</span>;</div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#a26979ce90bf4105e2b0abbf108d64dec">$tenantId</a> = <span class="stringliteral">&#39;123456789&#39;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// First we need to authenticate:</span></div>
<div class="line">$identity = new \HPCloud\Services\IdentityServices($endpoint);</div>
<div class="line"><a class="code" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a00ae4fcafb1145f5e968bdf920f83e2e" title="The authentication/authorization token.">$token</a> = $identity-&gt;authenticateAsUser($username, $password, <a class="code" href="oo-tutorial-code_8php.html#a26979ce90bf4105e2b0abbf108d64dec">$tenantId</a>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the service catalog. We will try to have CDN build itself from</span></div>
<div class="line"><span class="comment">// the service catalog.</span></div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#ab30d2fd9b2fc63b1367117f70356e858">$catalog</a> = $identity-&gt;serviceCatalog();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get a new CDN instance:</span></div>
<div class="line">$cdn = <a class="code" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a355aa73bf541528609416c058093e07e" title="Create a new CDN object based on a service catalog.">CDN::newFromServiceCatalog</a>(<a class="code" href="oo-tutorial-code_8php.html#ab30d2fd9b2fc63b1367117f70356e858">$catalog</a>, <a class="code" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a00ae4fcafb1145f5e968bdf920f83e2e" title="The authentication/authorization token.">$token</a>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Add a container to CDN; set cache lifetime to an hour:</span></div>
<div class="line">$cdn-&gt;enable(<span class="stringliteral">&#39;myContainer&#39;</span>, 3600);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get a list of all containers that CDN knows about,</span></div>
<div class="line"><span class="comment">// and print cache lifetime for each:</span></div>
<div class="line"><span class="keywordflow">foreach</span> ($cdn-&gt;containers() as <a class="code" href="oo-tutorial-code_8php.html#ab97dd40df90f4ce6f0fce9091e7c7872">$container</a>) {</div>
<div class="line">  print <a class="code" href="oo-tutorial-code_8php.html#ab97dd40df90f4ce6f0fce9091e7c7872">$container</a>[<span class="stringliteral">&#39;name&#39;</span>] . <span class="charliteral">&#39;:&#39;</span> . <a class="code" href="oo-tutorial-code_8php.html#ab97dd40df90f4ce6f0fce9091e7c7872">$container</a>[<span class="stringliteral">&#39;ttl&#39;</span>] . <a class="code" href="streams-tutorial-example_8php.html#ad50e7caf4a5d9866dc147787a5928678">PHP_EOL</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Change the cache lifetime on our container</span></div>
<div class="line">$cdn-&gt;update(<span class="stringliteral">&#39;myContainer&#39;</span>, array(<span class="stringliteral">&#39;ttl&#39;</span> =&gt; 7200));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Temporarily stop the container from caching:</span></div>
<div class="line">$cdn-&gt;update(<span class="stringliteral">&#39;myContainer&#39;</span>, array(<span class="stringliteral">&#39;cdn_enabled&#39;</span> =&gt; FALSE);</div>
<div class="line"></div>
<div class="line"><span class="comment">//This can be re-enabled again:</span></div>
<div class="line">$cdn-&gt;update(<span class="stringliteral">&#39;myContainer&#39;</span>, array(<span class="stringliteral">&#39;cdn_enabled&#39;</span> =&gt; TRUE);</div>
<div class="line"></div>
<div class="line"><span class="comment">// If we no longer want this Container in CDN, we</span></div>
<div class="line"><span class="comment">// should delete it, not just disable it:</span></div>
<div class="line">$cdn-&gt;delete(<span class="stringliteral">&#39;myContainer&#39;</span>);</div>
<div class="line"></div>
<div class="line">?&gt;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00121">121</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="accec6ad6d27ef05ebf39298e8cd31328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object. </p>
<p>This object facilitates communication with the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> cloud service.</p>
<p>This creates a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object that will view as its endpoint the server with the URL $endpoint, which has the form:</p>
<div class="fragment"><div class="line">https:<span class="comment">//ENDPOINT/API_VERSION/ACCOUNT</span></div>
</div><!-- fragment --><p>On older SwiftAuth-based services, the token should be the swauth token. On newer releaes, the token is retrieved from IdentityServices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$endpoint</td><td>The URL of the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service. It should look something like this: <code><a href="https://cdnmgmt.rndd.aw1.hpcloud.net/v1.0/72020596871800">https://cdnmgmt.rndd.aw1.hpcloud.net/v1.0/72020596871800</a></code> </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>The authentication token. This can be retrieved from <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ad854e194dde5dc5422ee0f3221e48ba5" title="Get the token.">IdentityServices::token()</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00254">254</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00016">$endpoint</a>, and <a class="el" href="_c_d_n_8php_source.html#l00139">CDN\$token</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a653db5e4640b0c47104ff55fe6ca4a5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">container </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a container by name. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>The current (1.0) version does not support a verb for getting just one container, so we have to get the entire list of containers.</dd></dl>
<p>Example return value: </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  <span class="stringliteral">&#39;log_retention&#39;</span> =&gt; 1</div>
<div class="line">  <span class="stringliteral">&#39;cdn_enabled&#39;</span> =&gt; 1</div>
<div class="line">  <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;I♡HPCloud&#39;</span></div>
<div class="line">  <span class="stringliteral">&#39;x-cdn-uri&#39;</span> =&gt; <span class="stringliteral">&#39;http://hcf937838.cdn.aw1.hpcloud.net&#39;</span></div>
<div class="line">  <span class="stringliteral">&#39;ttl&#39;</span> =&gt; 1234</div>
<div class="line">);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the container to fetch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An associative array in the exact format as in containers. </dd></dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00368">368</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00026">$container</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, and <a class="el" href="_c_d_n_8php_source.html#l00318">CDN\containers()</a>.</p>

</div>
</div>
<a class="anchor" id="a9d224c0b22767d111fb0313bb57890d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">containers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$enabledOnly</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of containers that the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> system knows of. </p>
<p>This returns a list of <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> Containers that the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service knows of. These containers can be either enabled or disabled.</p>
<p>The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service does not attempt to discover all of the containers from a Swift endpoint. Instead, it passively acquires a list of containers (added via, for example, enabledContainer()).</p>
<p>Once a container has been added to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service, it can be in one of two states:</p>
<ul>
<li>enabled (<code>cdn_enabled=TRUE</code>)</li>
<li>disabled (<code>cdn_enabled=FALSE</code>)</li>
</ul>
<p>This listing will retrieve both enabled and disabled unless $enabledOnly is set to TRUE.</p>
<p>Returned data is in this format: </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  array(</div>
<div class="line">    <span class="stringliteral">&#39;log_retention&#39;</span> =&gt; 0</div>
<div class="line">    <span class="stringliteral">&#39;cdn_enabled&#39;</span> =&gt; 1</div>
<div class="line">    <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;I♡HPCloud&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;x-cdn-uri&#39;</span> =&gt; <span class="stringliteral">&#39;http://hcf937838.cdn.aw1.hpcloud.net&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;x-cdn-ssl-uri&#39;</span> =&gt; <span class="stringliteral">&#39;https://hcf937838.cdn.aw1.hpcloud.net&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;ttl&#39;</span> =&gt; 1234</div>
<div class="line">  ),</div>
<div class="line">  array(</div>
<div class="line">    <span class="stringliteral">&#39;log_retention&#39;</span> =&gt; 0</div>
<div class="line">    <span class="stringliteral">&#39;cdn_enabled&#39;</span> =&gt; 0</div>
<div class="line">    <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;HPCloud2&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;x-cdn-uri&#39;</span> =&gt; <span class="stringliteral">&#39;http://hcf9abc38.cdn.aw1.hpcloud.net&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;x-cdn-ssl-uri&#39;</span> =&gt; <span class="stringliteral">&#39;https://hcf937838.cdn.aw1.hpcloud.net&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;ttl&#39;</span> =&gt; 1234</div>
<div class="line">  ),</div>
<div class="line">);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>The $enabledOnly flag sendes <code>enabled_only</code> to the endpoint. The endpoint may or may not honor this.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">boolean</td><td class="paramname">$enabledOnly</td><td>If this is set to TRUE, then only containers that are CDN-enabled will be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An indexed array of associative arrays. The format of each associative array is explained on <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a653db5e4640b0c47104ff55fe6ca4a5a" title="Get a container by name.">container()</a>. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>An HTTP-level exception on error. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00318">318</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="_c_d_n_8php_source.html#l00135">CDN\$url</a>.</p>

<p>Referenced by <a class="el" href="_c_d_n_8php_source.html#l00368">CDN\container()</a>.</p>

</div>
</div>
<a class="anchor" id="af7c3ea3150164bc92700134803f277be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to remove a container from <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>. </p>
<p>This will remove a container from <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> services, completely stopping all caching on that container.</p>
<p>Deleted containers will no longer show up in the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a9d224c0b22767d111fb0313bb57890d5" title="Get a list of containers that the CDN system knows of.">containers()</a> list, nor will they be accessible via <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a653db5e4640b0c47104ff55fe6ca4a5a" title="Get a container by name.">container()</a>.</p>
<p>Deleted containers can be added back with <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a492f5de07326499bdcd08cf7bc3b11d8" title="Enable a container.">enable()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The Container name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE if the container was successfully deleted, FALSE if the container was not removed, but no error occurred. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>Any of the HTTP error subclasses can be thrown. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00554">554</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, and <a class="el" href="_c_d_n_8php_source.html#l00571">CDN\modifyContainer()</a>.</p>

</div>
</div>
<a class="anchor" id="a492f5de07326499bdcd08cf7bc3b11d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ttl</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$created</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable a container. </p>
<p>This adds the container to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service and turns on caching.</p>
<p>In the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> API, there are two meanings for the term "enable":</p>
<ol type="1">
<li>To "CDN-enable" a container means to add that container to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service. There is no "CDN-disable".</li>
<li>To "enable" a container means to cache that container's content in a publically available <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> server. There is also a way to "disable" in this sense &ndash; which blocks a container from caching.</li>
</ol>
<p>This method does the first &ndash; it adds a container to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service. It so happens that adding a container also enables (in the second sense) the container. (This is a feature of the remote service, not the API).</p>
<p>Enabling and disabling (in the second sense) are considered temporary operations to switch on and off caching on a particular container. Both of these operations are done with the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a07268b57a00f444996933b835312a178" title="Set attributes on a CDN container.">update()</a> method.</p>
<p>The endpoint is supposed to return different results based on the above; accordingly this method should return TRUE if the container was added to the list, and FALSE if it was already there. HOWEVER, in some versions of the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service the endpoint returns the same code for both operations, so the result cannot be relied upon.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the container. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$ttl</td><td>Time to live. The number of seconds an object may stay in the cache. This is the maximum amount of time. There is, however, no assurance that the object will remain for the full TTL. 15 minutes is the minimum time. Five years is the max. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$created</td><td>If this is passed, then its value will be set to TRUE if the container was created in the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>, or FALSE if the container already existed in <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string TRUE if the container was created, FALSE if the container was already added to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> (and thus nothing happened). </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>Several HTTP-level exceptions can be thrown. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://api-docs.hpcloud.com/hpcloud-cdn-storage/1.0/content/cdn-enable-container.html">http://api-docs.hpcloud.com/hpcloud-cdn-storage/1.0/content/cdn-enable-container.html</a> </dd></dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00429">429</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, <a class="el" href="_c_d_n_8php_source.html#l00135">CDN\$url</a>, and <a class="el" href="_c_d_n_8php_source.html#l00571">CDN\modifyContainer()</a>.</p>

</div>
</div>
<a class="anchor" id="a280cd614e7005c0abe40792910e3fbdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modifyContainer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$headers</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$qstring</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the given method on the given container. </p>
<p>Checks to see if the expected result is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the container. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The appropriate HTTP verb. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$expects</td><td>The expected HTTP code. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00571">571</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, <a class="el" href="_c_d_n_8php_source.html#l00139">CDN\$token</a>, and <a class="el" href="_c_d_n_8php_source.html#l00135">CDN\$url</a>.</p>

<p>Referenced by <a class="el" href="_c_d_n_8php_source.html#l00554">CDN\delete()</a>, <a class="el" href="_c_d_n_8php_source.html#l00429">CDN\enable()</a>, and <a class="el" href="_c_d_n_8php_source.html#l00465">CDN\update()</a>.</p>

</div>
</div>
<a class="anchor" id="a72023483f2440367a5de1a9849e2fda7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static newFromIdentity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$identity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new instance from an IdentityServices object. </p>
<p>This builds a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> instance form an authenticated IdentityServices object.</p>
<p>In the service catalog, this selects the first service entry for <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>. At this time, that is sufficient.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">HPCloud::Services::IdentityServices</a></td><td class="paramname">$identity</td><td>The identity to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">HPCloud::Storage::CDN</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>|boolean A <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object or FALSE if no <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> services could be found in the catalog. </dd></dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00158">158</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="_c_d_n_8php_source.html#l00206">CDN\newFromServiceCatalog()</a>.</p>

</div>
</div>
<a class="anchor" id="a355aa73bf541528609416c058093e07e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static newFromServiceCatalog </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$catalog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object based on a service catalog. </p>
<p>The IdentityServices class contains a service catalog, which tracks all services that the present account can access. The service catalog contains data necessary to connect to a <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> endpoint. This builder simplifies the process of creating a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> by accepting a service catalog and discovering the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service automatically.</p>
<p>In the vast majority of cases, this is the easiest way to proceed. If, however, a service catalog has multiple <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> instances (a possibility, though not currently supported), the present method has no means of determining which should be used. It simply chooses the first <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service endpoint.</p>
<p>This uses the tenant ID that is found in the service catalog.</p>
<p>Either of the following work: </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"></div>
<div class="line"><span class="comment">// Use a full service catalog:</span></div>
<div class="line">$fullCatalog = $identityService-&gt;serviceCatalog();</div>
<div class="line">$cdn = <a class="code" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a355aa73bf541528609416c058093e07e" title="Create a new CDN object based on a service catalog.">CDN::newFromServiceCatalog</a>($fullCatalog);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Use a filtered service catalog:</span></div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#ab30d2fd9b2fc63b1367117f70356e858">$catalog</a> = $identitySerice-&gt;serviceCatalog(<a class="code" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#adfb06b593915cb98c65845a2cc60a3be" title="The name of the CDN service type.">CDN::SERVICE_TYPE</a>);</div>
<div class="line">$cdn = <a class="code" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html#a355aa73bf541528609416c058093e07e" title="Create a new CDN object based on a service catalog.">CDN::newFromServiceCatalog</a>(<a class="code" href="oo-tutorial-code_8php.html#ab30d2fd9b2fc63b1367117f70356e858">$catalog</a>);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$catalog</td><td>A service catalog; see <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4a14184aef00e1b7ee4d42b57a9e0f8b" title="Get the service catalog, optionaly filtering by type.">HPCloud::Services::IdentityServices::serviceCatalog()</a>. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>The token. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">HPCloud::Storage::CDN</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean| A <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object or FALSE if no <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> services could be found in the catalog. </dd></dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00206">206</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00021">$catalog</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00016">$endpoint</a>, and <a class="el" href="_c_d_n_8php_source.html#l00139">CDN\$token</a>.</p>

<p>Referenced by <a class="el" href="_c_d_n_8php_source.html#l00158">CDN\newFromIdentity()</a>.</p>

</div>
</div>
<a class="anchor" id="a07268b57a00f444996933b835312a178"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$attrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set attributes on a <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> container. </p>
<p>This updates the attributes (that is, properties) of a container.</p>
<p>The following attributes are supported:</p>
<ul>
<li>'ttl': Time to life in seconds (int).</li>
<li>'cdn_enabled': Whether the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> is enabled (boolean).</li>
<li>'log_retention': Whether logs are retained (boolean). UNSUPPORTED.</li>
</ul>
<p>Future versions of the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service will likely provide other properties.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the container. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$attrs</td><td>An associative array of attributes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE if the update was successful. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>Possibly throws one of the HTTP exceptions. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00465">465</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, and <a class="el" href="_c_d_n_8php_source.html#l00571">CDN\modifyContainer()</a>.</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a00ae4fcafb1145f5e968bdf920f83e2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$token</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The authentication/authorization token. </p>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00139">139</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>Referenced by <a class="el" href="_c_d_n_8php_source.html#l00254">CDN\__construct()</a>, <a class="el" href="_c_d_n_8php_source.html#l00571">CDN\modifyContainer()</a>, and <a class="el" href="_c_d_n_8php_source.html#l00206">CDN\newFromServiceCatalog()</a>.</p>

</div>
</div>
<a class="anchor" id="acf215f34a917d014776ce684a9ee8909"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$url</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The URL to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> endpoint. </p>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00135">135</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

<p>Referenced by <a class="el" href="_c_d_n_8php_source.html#l00318">CDN\containers()</a>, <a class="el" href="_c_d_n_8php_source.html#l00429">CDN\enable()</a>, and <a class="el" href="_c_d_n_8php_source.html#l00571">CDN\modifyContainer()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ed0d8617b3abaac92e82720d9fab3f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const API_VERSION = '1.0'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The API version. </p>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00130">130</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

</div>
</div>
<a class="anchor" id="adfb06b593915cb98c65845a2cc60a3be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SERVICE_TYPE = 'hpext:cdn'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The name of the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service type. </p>

<p>Definition at line <a class="el" href="_c_d_n_8php_source.html#l00126">126</a> of file <a class="el" href="_c_d_n_8php_source.html">CDN.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/HPCloud/Storage/<a class="el" href="_c_d_n_8php_source.html">CDN.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_h_p_cloud.html">HPCloud</a></li><li class="navelem"><a class="el" href="namespace_h_p_cloud_1_1_storage.html">Storage</a></li><li class="navelem"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html">CDN</a></li>
    <li class="footer">Generated on Fri Aug 10 2012 09:59:52 for HPCloud-PHP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>

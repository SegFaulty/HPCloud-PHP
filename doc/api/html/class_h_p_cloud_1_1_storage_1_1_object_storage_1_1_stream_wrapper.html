<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HPCloud-PHP: StreamWrapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HPCloud-PHP
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
   <div id="projectbrief">PHP bindings for HPCloud and OpenStack services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">StreamWrapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides stream wrapping for Swift.  
 <a href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for StreamWrapper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.png" usemap="#StreamWrapper_map" alt=""/>
  <map id="StreamWrapper_map" name="StreamWrapper_map">
<area href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper_f_s.html" title="Provides stream wrapping for Swift like a file system." alt="StreamWrapperFS" shape="rect" coords="0,56,116,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f2a581f636224b826e531c63953a907"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a9f2a581f636224b826e531c63953a907">dir_closedir</a> ()</td></tr>
<tr class="memdesc:a9f2a581f636224b826e531c63953a907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a directory.  <a href="#a9f2a581f636224b826e531c63953a907"></a><br/></td></tr>
<tr class="memitem:ae6bbfde9534ee882c5e750dc64391762"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ae6bbfde9534ee882c5e750dc64391762">dir_opendir</a> ($path, $options)</td></tr>
<tr class="memdesc:ae6bbfde9534ee882c5e750dc64391762"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a directory for reading.  <a href="#ae6bbfde9534ee882c5e750dc64391762"></a><br/></td></tr>
<tr class="memitem:aa4876e0cb8d21e65c36ca6243e6f5182"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#aa4876e0cb8d21e65c36ca6243e6f5182">dir_readdir</a> ()</td></tr>
<tr class="memdesc:aa4876e0cb8d21e65c36ca6243e6f5182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an entry from the directory.  <a href="#aa4876e0cb8d21e65c36ca6243e6f5182"></a><br/></td></tr>
<tr class="memitem:afd6e9558104fd35d07fb3a7412ea0d90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#afd6e9558104fd35d07fb3a7412ea0d90">dir_rewinddir</a> ()</td></tr>
<tr class="memdesc:afd6e9558104fd35d07fb3a7412ea0d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewind to the beginning of the listing.  <a href="#afd6e9558104fd35d07fb3a7412ea0d90"></a><br/></td></tr>
<tr class="memitem:a6572ee8e63a1c3360385286ac209e0ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a6572ee8e63a1c3360385286ac209e0ff">rename</a> ($path_from, $path_to)</td></tr>
<tr class="memdesc:a6572ee8e63a1c3360385286ac209e0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rename a swift object.  <a href="#a6572ee8e63a1c3360385286ac209e0ff"></a><br/></td></tr>
<tr class="memitem:afd8c7ec563b853761ea7d3470d0bee73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#afd8c7ec563b853761ea7d3470d0bee73">stream_cast</a> ($cast_as)</td></tr>
<tr class="memdesc:afd8c7ec563b853761ea7d3470d0bee73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cast stream into a lower-level stream.  <a href="#afd8c7ec563b853761ea7d3470d0bee73"></a><br/></td></tr>
<tr class="memitem:af4c22f18f65f3a87da0abd141752a3f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#af4c22f18f65f3a87da0abd141752a3f4">stream_close</a> ()</td></tr>
<tr class="memdesc:af4c22f18f65f3a87da0abd141752a3f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a stream, writing if necessary.  <a href="#af4c22f18f65f3a87da0abd141752a3f4"></a><br/></td></tr>
<tr class="memitem:a3e9ce71f7c8ab0db36dfd38ea2039476"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a3e9ce71f7c8ab0db36dfd38ea2039476">stream_eof</a> ()</td></tr>
<tr class="memdesc:a3e9ce71f7c8ab0db36dfd38ea2039476"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the stream has reached its end.  <a href="#a3e9ce71f7c8ab0db36dfd38ea2039476"></a><br/></td></tr>
<tr class="memitem:a8bc9b070955b413c37b960e4bf0a73d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a8bc9b070955b413c37b960e4bf0a73d2">stream_flush</a> ()</td></tr>
<tr class="memdesc:a8bc9b070955b413c37b960e4bf0a73d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate saving data on the remote object storage.  <a href="#a8bc9b070955b413c37b960e4bf0a73d2"></a><br/></td></tr>
<tr class="memitem:ad1e362aaee8513dec3d2be62cd3a402c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ad1e362aaee8513dec3d2be62cd3a402c">stream_open</a> ($path, $mode, $options, &amp;$opened_path)</td></tr>
<tr class="memdesc:ad1e362aaee8513dec3d2be62cd3a402c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a stream resource.  <a href="#ad1e362aaee8513dec3d2be62cd3a402c"></a><br/></td></tr>
<tr class="memitem:acf4adec38e34adc3b8cdec2f6ddaf1df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#acf4adec38e34adc3b8cdec2f6ddaf1df">stream_read</a> ($count)</td></tr>
<tr class="memdesc:acf4adec38e34adc3b8cdec2f6ddaf1df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read N bytes from the stream.  <a href="#acf4adec38e34adc3b8cdec2f6ddaf1df"></a><br/></td></tr>
<tr class="memitem:a11b8cbb2e2211df9c677df917afe092f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a11b8cbb2e2211df9c677df917afe092f">stream_seek</a> ($offset, $whence)</td></tr>
<tr class="memdesc:a11b8cbb2e2211df9c677df917afe092f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a seek.  <a href="#a11b8cbb2e2211df9c677df917afe092f"></a><br/></td></tr>
<tr class="memitem:a0758ac0913bc66f471a24637532e8721"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a0758ac0913bc66f471a24637532e8721">stream_set_option</a> ($option, $arg1, $arg2)</td></tr>
<tr class="memdesc:a0758ac0913bc66f471a24637532e8721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set options on the underlying stream.  <a href="#a0758ac0913bc66f471a24637532e8721"></a><br/></td></tr>
<tr class="memitem:ad5c2e5aede8f0bd6b523de4be61f169a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ad5c2e5aede8f0bd6b523de4be61f169a">stream_stat</a> ()</td></tr>
<tr class="memdesc:ad5c2e5aede8f0bd6b523de4be61f169a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform stat()/lstat() operations.  <a href="#ad5c2e5aede8f0bd6b523de4be61f169a"></a><br/></td></tr>
<tr class="memitem:aa3320416e4520b888b7a9b0ce6508cd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#aa3320416e4520b888b7a9b0ce6508cd6">stream_tell</a> ()</td></tr>
<tr class="memdesc:aa3320416e4520b888b7a9b0ce6508cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current position in the stream.  <a href="#aa3320416e4520b888b7a9b0ce6508cd6"></a><br/></td></tr>
<tr class="memitem:a0f84598d2e48826e33d9c7de5364419a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a0f84598d2e48826e33d9c7de5364419a">stream_write</a> ($data)</td></tr>
<tr class="memdesc:a0f84598d2e48826e33d9c7de5364419a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to stream.  <a href="#a0f84598d2e48826e33d9c7de5364419a"></a><br/></td></tr>
<tr class="memitem:ad6244fc254de2b00ab567e4e0b82a4b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ad6244fc254de2b00ab567e4e0b82a4b3">unlink</a> ($path)</td></tr>
<tr class="memdesc:ad6244fc254de2b00ab567e4e0b82a4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlink a file.  <a href="#ad6244fc254de2b00ab567e4e0b82a4b3"></a><br/></td></tr>
<tr class="memitem:abcc2fea2362bdc22b2a1c9387176429c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#abcc2fea2362bdc22b2a1c9387176429c">url_stat</a> ($path, $flags)</td></tr>
<tr class="memitem:a2f4bd8bc02d50ca86136dd45073eb40f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a2f4bd8bc02d50ca86136dd45073eb40f">object</a> ()</td></tr>
<tr class="memdesc:a2f4bd8bc02d50ca86136dd45073eb40f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>.  <a href="#a2f4bd8bc02d50ca86136dd45073eb40f"></a><br/></td></tr>
<tr class="memitem:ab1ab66770a1ab40e5ce11ae3f6ef9a22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ab1ab66770a1ab40e5ce11ae3f6ef9a22">objectStorage</a> ()</td></tr>
<tr class="memdesc:ab1ab66770a1ab40e5ce11ae3f6ef9a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPERT: Get the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> for this wrapper.  <a href="#ab1ab66770a1ab40e5ce11ae3f6ef9a22"></a><br/></td></tr>
<tr class="memitem:ad854e194dde5dc5422ee0f3221e48ba5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ad854e194dde5dc5422ee0f3221e48ba5">token</a> ()</td></tr>
<tr class="memdesc:ad854e194dde5dc5422ee0f3221e48ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPERT: Get the auth token for this wrapper.  <a href="#ad854e194dde5dc5422ee0f3221e48ba5"></a><br/></td></tr>
<tr class="memitem:a035c13183d5b45ff0c22a7dbd7fddfef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a035c13183d5b45ff0c22a7dbd7fddfef">serviceCatalog</a> ()</td></tr>
<tr class="memdesc:a035c13183d5b45ff0c22a7dbd7fddfef"><td class="mdescLeft">&#160;</td><td class="mdescRight">EXPERT: Get the service catalog (IdentityServices) for this wrapper.  <a href="#a035c13183d5b45ff0c22a7dbd7fddfef"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aed0e317ab7e39747995de2d1985b09d3"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#aed0e317ab7e39747995de2d1985b09d3">DEFAULT_SCHEME</a> = 'swift'</td></tr>
<tr class="memitem:ae05dedb802ada0155efdece2044fed64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ae05dedb802ada0155efdece2044fed64">$context</a></td></tr>
<tr class="memdesc:ae05dedb802ada0155efdece2044fed64"><td class="mdescLeft">&#160;</td><td class="mdescRight">The stream context.  <a href="#ae05dedb802ada0155efdece2044fed64"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a419dcade675e2a918603e4125b017b17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a419dcade675e2a918603e4125b017b17">writeRemote</a> ()</td></tr>
<tr class="memdesc:a419dcade675e2a918603e4125b017b17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the remote object storage.  <a href="#a419dcade675e2a918603e4125b017b17"></a><br/></td></tr>
<tr class="memitem:a5980fd4519102f927af372643daaa646"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a5980fd4519102f927af372643daaa646">generateStat</a> ($object, $<a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html#a653db5e4640b0c47104ff55fe6ca4a5a">container</a>, $size)</td></tr>
<tr class="memdesc:a5980fd4519102f927af372643daaa646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a reasonably accurate STAT array.  <a href="#a5980fd4519102f927af372643daaa646"></a><br/></td></tr>
<tr class="memitem:aedb3b9354b6451554912fd1cb36bb2d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#aedb3b9354b6451554912fd1cb36bb2d0">setMode</a> ($mode)</td></tr>
<tr class="memdesc:aedb3b9354b6451554912fd1cb36bb2d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the fopen mode.  <a href="#aedb3b9354b6451554912fd1cb36bb2d0"></a><br/></td></tr>
<tr class="memitem:ac7dca652857324a5d2636b80654909b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ac7dca652857324a5d2636b80654909b5">cxt</a> ($name, $default=NULL)</td></tr>
<tr class="memdesc:ac7dca652857324a5d2636b80654909b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an item out of the context.  <a href="#ac7dca652857324a5d2636b80654909b5"></a><br/></td></tr>
<tr class="memitem:a6147fe97c0be7e217e24dc2ec97fda27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a6147fe97c0be7e217e24dc2ec97fda27">parseUrl</a> ($<a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html#abc5ed2ad3f9365fb31cc1eb625b974d9">url</a>)</td></tr>
<tr class="memdesc:a6147fe97c0be7e217e24dc2ec97fda27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a URL.  <a href="#a6147fe97c0be7e217e24dc2ec97fda27"></a><br/></td></tr>
<tr class="memitem:aed9ba4286dcfbda7b4255bd01767096b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#aed9ba4286dcfbda7b4255bd01767096b">initializeObjectStorage</a> ()</td></tr>
<tr class="memdesc:aed9ba4286dcfbda7b4255bd01767096b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Based on the context, initialize the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>.  <a href="#aed9ba4286dcfbda7b4255bd01767096b"></a><br/></td></tr>
<tr class="memitem:a552ead9e4216e3b68da11cd65c1e014b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a552ead9e4216e3b68da11cd65c1e014b">initializeCDN</a> ($<a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html#ad854e194dde5dc5422ee0f3221e48ba5">token</a>, $catalog)</td></tr>
<tr class="memdesc:a552ead9e4216e3b68da11cd65c1e014b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service.  <a href="#a552ead9e4216e3b68da11cd65c1e014b"></a><br/></td></tr>
<tr class="memitem:a750c93a7dfab5314f2bf662a407bc5a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a750c93a7dfab5314f2bf662a407bc5a6">authenticate</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a96d15ce7a7d5c4a5c519c82d1be00294"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a96d15ce7a7d5c4a5c519c82d1be00294">$contextArray</a> = array()</td></tr>
<tr class="memitem:adb7d474c40d06c86224d2a23593c03a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#adb7d474c40d06c86224d2a23593c03a9">$schemeName</a> = self::DEFAULT_SCHEME</td></tr>
<tr class="memitem:a8a016e715a7e310b58109bc7b642c747"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a8a016e715a7e310b58109bc7b642c747">$authToken</a></td></tr>
<tr class="memitem:a005aa202b8a69f281e5f5e5c54d6fde5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a005aa202b8a69f281e5f5e5c54d6fde5">$isBinary</a> = FALSE</td></tr>
<tr class="memitem:a579975aecb373390d54669ac632f5481"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a579975aecb373390d54669ac632f5481">$isText</a> = TRUE</td></tr>
<tr class="memitem:a5da2e71fb3bbfa621ee73a2847d3e3b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a5da2e71fb3bbfa621ee73a2847d3e3b2">$isWriting</a> = FALSE</td></tr>
<tr class="memitem:ab95346b7f0b81bb5119d1dc012807d6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ab95346b7f0b81bb5119d1dc012807d6e">$isReading</a> = FALSE</td></tr>
<tr class="memitem:a45e0da6b9eee0bb28f3025d6acc5c77a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a45e0da6b9eee0bb28f3025d6acc5c77a">$isTruncating</a> = FALSE</td></tr>
<tr class="memitem:a75caa233380493d8dec253b43355907c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a75caa233380493d8dec253b43355907c">$isAppending</a> = FALSE</td></tr>
<tr class="memitem:ad010035d07ce718aea0c188d4bc1851c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ad010035d07ce718aea0c188d4bc1851c">$noOverwrite</a> = FALSE</td></tr>
<tr class="memitem:a9d55ec7ee52ed2b5ff85ad8d7cdef73e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a9d55ec7ee52ed2b5ff85ad8d7cdef73e">$createIfNotFound</a> = TRUE</td></tr>
<tr class="memitem:a4244816f9882af2bb974b7f23902308d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a4244816f9882af2bb974b7f23902308d">$isNeverDirty</a> = FALSE</td></tr>
<tr class="memdesc:a4244816f9882af2bb974b7f23902308d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this is TRUE, no data is ever sent to the remote server.  <a href="#a4244816f9882af2bb974b7f23902308d"></a><br/></td></tr>
<tr class="memitem:af73943221d5f747e279717b9df2ffc2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#af73943221d5f747e279717b9df2ffc2d">$triggerErrors</a> = FALSE</td></tr>
<tr class="memitem:adb744c25bb65c3387931b00050dcedda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#adb744c25bb65c3387931b00050dcedda">$isDirty</a> = FALSE</td></tr>
<tr class="memdesc:adb744c25bb65c3387931b00050dcedda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate whether the local differs from remote.  <a href="#adb744c25bb65c3387931b00050dcedda"></a><br/></td></tr>
<tr class="memitem:a827b42f70d98e1bf51ff54dbbe771421"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a827b42f70d98e1bf51ff54dbbe771421">$store</a></td></tr>
<tr class="memdesc:a827b42f70d98e1bf51ff54dbbe771421"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a> storage instance.  <a href="#a827b42f70d98e1bf51ff54dbbe771421"></a><br/></td></tr>
<tr class="memitem:ab97dd40df90f4ce6f0fce9091e7c7872"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ab97dd40df90f4ce6f0fce9091e7c7872">$container</a></td></tr>
<tr class="memdesc:ab97dd40df90f4ce6f0fce9091e7c7872"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_container.html" title="A container in an ObjectStorage.">Container</a>.  <a href="#ab97dd40df90f4ce6f0fce9091e7c7872"></a><br/></td></tr>
<tr class="memitem:a9008ed94ba185855b1723e367744b87e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a9008ed94ba185855b1723e367744b87e">$obj</a></td></tr>
<tr class="memdesc:a9008ed94ba185855b1723e367744b87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>.  <a href="#a9008ed94ba185855b1723e367744b87e"></a><br/></td></tr>
<tr class="memitem:af428d049c9f87c0a6a050ce362fbd789"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#af428d049c9f87c0a6a050ce362fbd789">$objStream</a></td></tr>
<tr class="memdesc:af428d049c9f87c0a6a050ce362fbd789"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IO stream for the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>.  <a href="#af428d049c9f87c0a6a050ce362fbd789"></a><br/></td></tr>
<tr class="memitem:a98db9d66e5325d242aff1e9dc4b6e967"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a98db9d66e5325d242aff1e9dc4b6e967">$dirListing</a> = array()</td></tr>
<tr class="memdesc:a98db9d66e5325d242aff1e9dc4b6e967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directory listing.  <a href="#a98db9d66e5325d242aff1e9dc4b6e967"></a><br/></td></tr>
<tr class="memitem:a39c7be59fa2604937a9e6d2a3987b536"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a39c7be59fa2604937a9e6d2a3987b536">$dirIndex</a> = 0</td></tr>
<tr class="memitem:ad7679dce3f658de3425ed48dcd01d0c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ad7679dce3f658de3425ed48dcd01d0c4">$dirPrefix</a> = ''</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ae57d674676e1fdf4e53e475d999b662c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ae57d674676e1fdf4e53e475d999b662c">$serviceCatalogCache</a> = array()</td></tr>
<tr class="memdesc:ae57d674676e1fdf4e53e475d999b662c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache of auth token -&gt; service catalog.  <a href="#ae57d674676e1fdf4e53e475d999b662c"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides stream wrapping for Swift. </p>
<p>This provides a full stream wrapper to expose <code>swift://</code> URLs to the PHP stream system.</p>
<p>Swift streams provide authenticated and priviledged access to the swift data store. These URLs are not generally used for granting unauthenticated access to files (which can be done using the HTTP stream wrapper &ndash; no need for swift-specific logic).</p>
<p><b>URL Structure</b></p>
<p>This takes URLs of the following form:</p>
<p><code>swift://CONTAINER/FILE</code></p>
<p>Example:</p>
<p><code>swift://public/example.txt</code></p>
<p>The example above would access the <code>public</code> container and attempt to retrieve the file named <code>example.txt</code>.</p>
<p>Slashes are legal in Swift filenames, so a pathlike URL can be constructed like this:</p>
<p><code>swift://public/path/like/file/name.txt</code></p>
<p>The above would attempt to find a file in object storage named <code>path/like/file/name.txt</code>.</p>
<p>A note on UTF-8 and URLs: PHP does not yet natively support many UTF-8 characters in URLs. Thus, you ought to rawurlencode() your container name and object name (path) if there is any possibility that it will contain UTF-8 characters.</p>
<p><b>Locking</b></p>
<p>This library does not support locking (e.g. flock()). This is because the OpenStack <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a> <a class="el" href="namespace_h_p_cloud_1_1_storage.html" title="HPCloud classes for remote storage.">Storage</a> implementation does not support locking. But there are a few related things you should keep in mind:</p>
<ul>
<li>Working with a stream is essentially working with a COPY OF a remote file. Local locking is not an issue.</li>
<li>If you open two streams for the same object, you will be working with TWO COPIES of the object. This can, of course, lead to nasty race conditions if each copy is modified.</li>
</ul>
<p><b>Usage</b></p>
<p>The principle purpose of this wrapper is to make it easy to access and manipulate objects on a remote object storage instance. Managing containers is a secondary concern (and can often better be managed using the <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> API). Consequently, almost all actions done through the stream wrapper are focused on objects, not containers, servers, etc.</p>
<p><b>Retrieving an Existing <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a></b></p>
<p>Retrieving an object is done by opening a file handle to that object.</p>
<p><b>Writing an <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a></b></p>
<p>Nothing is written to the remote storage until the file is closed. This keeps network traffic at a minimum, and respects the more-or-less stateless nature of <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>.</p>
<p><b>USING FILE/STREAM RESOURCES</b></p>
<p>In general, you should access files like this:</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">\HPCloud\Bootstrap::useStreamWrappers();</div>
<div class="line"><span class="comment">// Set up the context.</span></div>
<div class="line"><a class="code" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#ae05dedb802ada0155efdece2044fed64" title="The stream context.">$context</a> = stream_context_create(</div>
<div class="line">  array(<span class="stringliteral">&#39;swift&#39;</span> =&gt; array(</div>
<div class="line">    <span class="stringliteral">&#39;account&#39;</span> =&gt; ACCOUNT_NUMBER,</div>
<div class="line">    <span class="stringliteral">&#39;secret&#39;</span> =&gt; SECRET_KEY,</div>
<div class="line">    <span class="stringliteral">&#39;tenantid&#39;</span> =&gt; TENANT_ID,</div>
<div class="line">    <span class="stringliteral">&#39;tenantname&#39;</span> =&gt; TENANT_NAME, <span class="comment">// Optional instead of tenantid.</span></div>
<div class="line">    <span class="stringliteral">&#39;endpoint&#39;</span> =&gt; AUTH_ENDPOINT_URL,</div>
<div class="line">  )</div>
<div class="line"> )</div>
<div class="line">);</div>
<div class="line"><span class="comment">// Open the file.</span></div>
<div class="line">$handle = fopen(<span class="stringliteral">&#39;swift://mycontainer/myobject.txt&#39;</span>, <span class="stringliteral">&#39;r+&#39;</span>, FALSE, $context);</div>
<div class="line"></div>
<div class="line"><span class="comment">// You can get the entire file, or use fread() to loop through the file.</span></div>
<div class="line">$contents = stream_get_contents($handle);</div>
<div class="line"></div>
<div class="line">fclose($handle);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<ul>
<li>file_get_contents() works fine.</li>
<li>You can write to a stream, too. Nothing is pushed to the server until fflush() or fclose() is called.</li>
<li>Mode strings (w, r, w+, r+, c, c+, a, a+, x, x+) all work, though certain constraints are slightly relaxed to accomodate efficient local buffering.</li>
<li>Files are buffered locally.</li>
</ul>
<p><b>USING FILE-LEVEL FUNCTIONS</b></p>
<p>PHP provides a number of file-level functions that stream wrappers can optionally support. Here are a few such functions:</p>
<ul>
<li>file_exists()</li>
<li>is_readable()</li>
<li>stat()</li>
<li>filesize()</li>
<li>fileperms()</li>
</ul>
<p>The <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> stream wrapper provides support for these file-level functions. But there are a few things you should know:</p>
<ul>
<li>Each call to one of these functions generates at least one request. It may be as many as three:<ul>
<li>An auth request</li>
<li>A request for the container (to get container permissions)</li>
<li>A request for the object</li>
</ul>
</li>
<li><em>IMPORTANT:</em> Unlike the fopen()/fclose()... functions NONE of these functions retrieves the body of the file. If you are working with large files, using these functions may be orders of magnitude faster than using fopen(), etc. (The crucial detail: These kick off a HEAD request, will fopen() does a GET request).</li>
<li>You must use <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">Bootstrap::setConfiguration()</a> to pass in all of the values you would normally pass into a stream context:<ul>
<li>endpoint</li>
<li>account</li>
<li>secret</li>
</ul>
</li>
<li>Most of the information from this family of calls can also be obtained using fstat(). If you were going to open a stream anyway, you might as well use fopen()/fstat().</li>
<li>stat() and fstat() fake the permissions and ownership as follows:<ul>
<li>uid/gid are always sset to the current user. This basically assumes that if the current user can access the object, the current user has ownership over the file. As the OpenStack <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_a_c_l.html" title="Access control list for object storage.">ACL</a> system developers, this may change.</li>
<li>Mode is faked. Swift uses ACLs, not UNIX mode strings. So we fake the string:<ul>
<li>770: The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_a_c_l.html" title="Access control list for object storage.">ACL</a> has the object marked as private.</li>
<li>775: The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_a_c_l.html" title="Access control list for object storage.">ACL</a> has the object marked as public.</li>
<li>ACLs are actually set on the container, so every file in a public container will return 775.</li>
</ul>
</li>
</ul>
</li>
<li>stat/fstat provide only one timestamp. Swift only tracks mtime, so mtime, atime, and ctime are all set to the last modified time.</li>
</ul>
<p><b>DIRECTORIES</b></p>
<p>OpenStack Swift does not really have directories. Rather, it allows characters such as '/' to be used to designate namespaces on object names. (For simplicity, this library uses only '/' as a separator).</p>
<p>This allows for simulated directory listings. Requesting `scandir('swift://foo/bar/')` is really a request to "find all of the items
in the 'foo' container whose names start with 'bar/'".</p>
<p>Because of this...</p>
<ul>
<li>Directory reading functions like scandir(), opendir(), readdir() and so forth are supported.</li>
<li>Functions to create or remove directories (mkdir() and rmdir()) are meaningless, and thus not supported.</li>
</ul>
<p>Swift still has support for "directory markers" (special zero-byte files that act like directories). However, since there are no standards for how said markers ought to be created, they are not supported by the stream wrapper.</p>
<p>As usual, the underlying <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_container.html" title="A container in an ObjectStorage.">HPCloud::Storage::ObjectStorage::Container</a> class supports the full range of Swift features.</p>
<p><b>SUPPORTED CONTEXT PARAMETERS</b></p>
<p>This section details paramters that can be passed <em>either</em> through a stream context <em>or</em> through <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">HPCloud::Bootstrap::setConfiguration()</a>.</p>
<dl class="section attention"><dt>Attention</dt><dd>PHP functions that do not allow you to pass a context may still be supported here <em>IF</em> you have set options using <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">Bootstrap::setConfiguration()</a>.</dd></dl>
<p>You are <em>required</em> to pass in authentication information. This comes in one of three forms:</p>
<ol type="1">
<li>API keys: acccount, secret, tenantid, endpoint</li>
<li>User login: username, password, tenantid, endpoint</li>
<li>Existing (valid) token: token, swift_endpoint</li>
</ol>
<dl class="section attention"><dt>Attention</dt><dd>As of 1.0.0-beta6, you may use <code>tenantname</code> instead of <code>tenantid</code>.</dd></dl>
<p>The third method (token) can be used when the application has already authenticated. In this case, a token has been generated and assigned to an account and tenant.</p>
<p>The following parameters may be set either in the stream context or through <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">HPCloud::Bootstrap::setConfiguration()</a>:</p>
<ul>
<li>token: An auth token. If this is supplied, authentication is skipped and this token is used. NOTE: You MUST set swift_endpoint if using this option.</li>
<li>swift_endpoint: The URL to the swift instance. This is only necessary if 'token' is set. Otherwise it is ignored.</li>
<li>username: A username. MUST be accompanied by 'password' and 'tenantid' (or 'tenantname').</li>
<li>password: A password. MUST be accompanied by 'username' and 'tenantid' (or 'tenantname').</li>
<li>account: An account ID. MUST be accompanied by a 'secret' and 'tenantid' (or 'tenantname').</li>
<li>secret: A secret key. MUST be accompanied by an 'account' and 'tenantid' (or 'tenantname').</li>
<li>endpoint: The URL to the authentication endpoint. Necessary if you are not using a 'token' and 'swift_endpoint'.</li>
<li>use_swift_auth: If this is set to TRUE, it will force the app to use the deprecated swiftAuth instead of IdentityServices authentication. In general, you should avoid using this.</li>
<li>content_type: This is effective only when writing files. It will set the Content-Type of the file during upload.</li>
<li>use_cdn: If this is set to TRUE, then whenever possible assets will be loaded from <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> instead of from the object store. The following conditions must obtain for this to work:<ul>
<li>The container must allow public reading (<a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_a_c_l.html" title="Access control list for object storage.">ACL</a>)</li>
<li>The container must have <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> enabled</li>
<li>The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> container must be active ("cdn-enabled")</li>
<li>Authentication info must be accessible to the stream wrapper.</li>
</ul>
</li>
<li>cdn_require_ssl: If this is set to FALSE, then CDN-based requests may use plain HTTP instead of HTTPS. This will spead up <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> fetches at the cost of security.</li>
<li>tenantid: The tenant ID for the services you will use. (An account may have multiple tenancies associated.)</li>
<li>tenantname: The tenant name for the services you will use. You may use this in lieu of tenant ID.</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>ADVANCED: You can also pass an <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">HPCloud::Storage::CDN</a> object in use_cdn instead of a boolean.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://us3.php.net/manual/en/class.streamwrapper.php">http://us3.php.net/manual/en/class.streamwrapper.php</a></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>The service catalog should be cached in the context like the token so that it can be retrieved later. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00272">272</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a750c93a7dfab5314f2bf662a407bc5a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">authenticate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01638">1638</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00013">$account</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00014">$key</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00015">$tenantId</a>, <a class="el" href="_object_storage_8php_source.html#l00086">ObjectStorage\$token</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01426">StreamWrapper\cxt()</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l01611">StreamWrapper\initializeCDN()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7dca652857324a5d2636b80654909b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cxt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$default</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an item out of the context. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Should there be an option to NOT query the Bootstrap::conf()?</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name to look up. First look it up in the context, then look it up in the <a class="el" href="class_h_p_cloud_1_1_bootstrap.html" title="Bootstrapping services.">Bootstrap</a> config. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td>The default value to return if no config param was found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mixed</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed The discovered result, or $default if specified, or NULL if no $default is specified. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01426">1426</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="streams-tutorial-example_8php_source.html#l00031">$cxt</a>, and <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l01638">StreamWrapper\authenticate()</a>, <a class="el" href="_stream_wrapper_f_s_8php_source.html#l00193">StreamWrapperFS\fakeStat()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01611">StreamWrapper\initializeCDN()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>, <a class="el" href="_stream_wrapper_f_s_8php_source.html#l00093">StreamWrapperFS\mkdir()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l00782">StreamWrapper\stream_open()</a>, <a class="el" href="_stream_wrapper_f_s_8php_source.html#l00115">StreamWrapperFS\url_stat()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l00700">StreamWrapper\writeRemote()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f2a581f636224b826e531c63953a907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dir_closedir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a directory. </p>
<p>This closes a directory handle, freeing up the resources.</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"></div>
<div class="line"><span class="comment">// Assuming a valid context in $cxt...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the container as if it were a directory.</span></div>
<div class="line">$dir = opendir(<span class="stringliteral">&#39;swift://mycontainer&#39;</span>, <a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Do something with $dir</span></div>
<div class="line"></div>
<div class="line">closedir($dir);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>NB: Some versions of PHP 5.3 don't clear all buffers when closing, and the handle can occasionally remain accessible for some period of time. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00377">377</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae6bbfde9534ee882c5e750dc64391762"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dir_opendir </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a directory for reading. </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"></div>
<div class="line"><span class="comment">// Assuming a valid context in $cxt...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the container as if it were a directory.</span></div>
<div class="line">$dir = opendir(<span class="stringliteral">&#39;swift://mycontainer&#39;</span>, <a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Do something with $dir</span></div>
<div class="line"></div>
<div class="line">closedir($dir);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>See opendir() and scandir().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The URL to open. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$options</td><td>Unused. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE if the directory is opened, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00413">413</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00026">$container</a>, <a class="el" href="_object_storage_8php_source.html#l00090">ObjectStorage\$url</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01472">StreamWrapper\parseUrl()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4876e0cb8d21e65c36ca6243e6f5182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dir_readdir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an entry from the directory. </p>
<p>This gets a single line from the directory. </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"></div>
<div class="line"><span class="comment">// Assuming a valid context in $cxt...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the container as if it were a directory.</span></div>
<div class="line">$dir = opendir(<span class="stringliteral">&#39;swift://mycontainer&#39;</span>, <a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">while</span> (($entry = readdir($dir)) !== FALSE) {</div>
<div class="line">  print $entry . <a class="code" href="streams-tutorial-example_8php.html#ad50e7caf4a5d9866dc147787a5928678">PHP_EOL</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">closedir($dir);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The name of the resource or FALSE when the directory has no more entries. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00470">470</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="afd6e9558104fd35d07fb3a7412ea0d90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dir_rewinddir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewind to the beginning of the listing. </p>
<p>This repositions the read pointer at the first entry in the directory. </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"></div>
<div class="line"><span class="comment">// Assuming a valid context in $cxt...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Get the container as if it were a directory.</span></div>
<div class="line">$dir = opendir(<span class="stringliteral">&#39;swift://mycontainer&#39;</span>, <a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">while</span> (($entry = readdir($dir)) !== FALSE) {</div>
<div class="line">  print $entry . <a class="code" href="streams-tutorial-example_8php.html#ad50e7caf4a5d9866dc147787a5928678">PHP_EOL</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">rewinddir($dir);</div>
<div class="line"></div>
<div class="line">$first = readdir($dir);</div>
<div class="line"></div>
<div class="line">closedir($dir);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00519">519</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5980fd4519102f927af372643daaa646"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">generateStat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a reasonably accurate STAT array. </p>
<p>Notes on mode:</p>
<ul>
<li>All modes are of the (octal) form 100XXX, where XXX is replaced by the permission string. Thus, this always reports that the type is "file" (100).</li>
<li>Currently, only two permission sets are generated:<ul>
<li>770: Represents the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_a_c_l.html#abee1c8f3b3ddf49fc0784b221e0b07ac" title="Alias of ACL::makeNonPublic().">ACL::makePrivate()</a> perm.</li>
<li>775: Represents the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_a_c_l.html#a8a1bc6e40a98de60ba724d8f72f27847" title="Allow READ access to the public.">ACL::makePublic()</a> perm.</li>
</ul>
</li>
</ul>
<p>Notes on mtime/atime/ctime:</p>
<ul>
<li>For whatever reason, Swift only stores one timestamp. We use that for mtime, atime, and ctime.</li>
</ul>
<p>Notes on size:</p>
<ul>
<li>Size must be calculated externally, as it will sometimes be the remote's Content-Length, and it will sometimes be the cached stat['size'] for the underlying buffer. </li>
</ul>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01271">1271</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00026">$container</a>, and <a class="el" href="oo-tutorial-code_8php_source.html#l00035">$object</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l01046">StreamWrapper\stream_stat()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01145">StreamWrapper\url_stat()</a>.</p>

</div>
</div>
<a class="anchor" id="a552ead9e4216e3b68da11cd65c1e014b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">initializeCDN </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$catalog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service. </p>
<p>When the <code>use_cdn</code> parameter is passed into the context, we try to use a <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service wherever possible.</p>
<p>If <code>use_cdn</code> is set to TRUE, we try to create a new <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object. This will require a service catalog.</p>
<p>When use_cdn is set to TRUE, the wrapper tries to use <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> service. In such cases, we need a handle to the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a> object. This initializes that handle, which can later be used to get other information.</p>
<p>Also note that <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>'s default behavior is to fetch over SSL <a class="el" href="class_h_p_cloud_1_1_storage_1_1_c_d_n.html" title="Provides CDN services for ObjectStorage.">CDN</a>. To disable this, set 'cdn_require_ssl' to FALSE. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01611">1611</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00021">$catalog</a>, <a class="el" href="_object_storage_8php_source.html#l00086">ObjectStorage\$token</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01638">StreamWrapper\authenticate()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01426">StreamWrapper\cxt()</a>, and <a class="el" href="_object_storage_8php_source.html#l00206">ObjectStorage\newFromServiceCatalog()</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>.</p>

</div>
</div>
<a class="anchor" id="aed9ba4286dcfbda7b4255bd01767096b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">initializeObjectStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Based on the context, initialize the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a>. </p>
<p>The following parameters may be set either in the stream context or through <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">HPCloud::Bootstrap::setConfiguration()</a>:</p>
<ul>
<li>token: An auth token. If this is supplied, authentication is skipped and this token is used. NOTE: You MUST set swift_endpoint if using this option.</li>
<li>swift_endpoint: The URL to the swift instance. This is only necessary if 'token' is set. Otherwise it is ignored.</li>
<li>username: A username. MUST be accompanied by 'password' and 'tenantname'.</li>
<li>password: A password. MUST be accompanied by 'username' and 'tenantname'.</li>
<li>account: An account ID. MUST be accompanied by a 'secret' and 'tenantname'.</li>
<li>secret: A secret key. MUST be accompanied by an 'account' and 'tenantname'.</li>
<li>endpoint: The URL to the authentication endpoint. Necessary if you are not using a 'token' and 'swift_endpoint'.</li>
<li>use_swift_auth: If this is set to TRUE, it will force the app to use the deprecated swiftAuth instead of IdentityServices authentication. In general, you should avoid using this.</li>
</ul>
<p>To find these params, the method first checks the supplied context. If the key is not found there, it checks the Bootstrap::conf().</p>
<p>This should be rewritten to use <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html#ade9f87d642ca7bc398d79754130a2b74" title="Given a service catalog and an token, create an ObjectStorage instance.">ObjectStorage::newFromServiceCatalog()</a>. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01519">1519</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00013">$account</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00016">$endpoint</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00014">$key</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00015">$tenantId</a>, <a class="el" href="_object_storage_8php_source.html#l00086">ObjectStorage\$token</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01638">StreamWrapper\authenticate()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01426">StreamWrapper\cxt()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01611">StreamWrapper\initializeCDN()</a>, <a class="el" href="_object_storage_8php_source.html#l00206">ObjectStorage\newFromServiceCatalog()</a>, and <a class="el" href="_object_storage_8php_source.html#l00139">ObjectStorage\newFromSwiftAuth()</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l00413">StreamWrapper\dir_opendir()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l00570">StreamWrapper\rename()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l00782">StreamWrapper\stream_open()</a>, <a class="el" href="_stream_wrapper_f_s_8php_source.html#l00155">StreamWrapperFS\testDirectoryExists()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01109">StreamWrapper\unlink()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01145">StreamWrapper\url_stat()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f4bd8bc02d50ca86136dd45073eb40f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>. </p>
<p>This provides low-level access to the PHCloud::Storage::ObjectStorage::Object instance in which the content is stored.</p>
<p>Accessing the object's payload (Object::content()) is strongly discouraged, as it will modify the pointers in the stream that the stream wrapper is using.</p>
<p>HOWEVER, accessing the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>'s metadata properties, content type, and so on is okay. Changes to this data will be written on the next flush, provided that the file stream data has also been changed.</p>
<p>To access this:</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"> $handle = fopen(<span class="stringliteral">&#39;swift://container/test.txt&#39;</span>, <span class="stringliteral">&#39;rb&#39;</span>, <a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a>);</div>
<div class="line"> $md = stream_get_meta_data($handle);</div>
<div class="line"> <a class="code" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a9008ed94ba185855b1723e367744b87e" title="The Object.">$obj</a> = $md[<span class="stringliteral">&#39;wrapper_data&#39;</span>]-&gt;object();</div>
<div class="line">?&gt;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01212">1212</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab1ab66770a1ab40e5ce11ae3f6ef9a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">objectStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPERT: Get the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> for this wrapper. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">object</td><td>HPCloud::ObjectStorage An <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html" title="Access to ObjectStorage (Swift).">ObjectStorage</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>object() </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01223">1223</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00023">$store</a>.</p>

</div>
</div>
<a class="anchor" id="a6147fe97c0be7e217e24dc2ec97fda27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parseUrl </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse a URL. </p>
<p>In order to provide full UTF-8 support, URLs must be rawurlencoded before they are passed into the stream wrapper.</p>
<p>This parses the URL and urldecodes the container name and the object name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>A Swift URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array as documented in parse_url(). </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01472">1472</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00014">$key</a>, and <a class="el" href="_object_storage_8php_source.html#l00090">ObjectStorage\$url</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l00413">StreamWrapper\dir_opendir()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l00570">StreamWrapper\rename()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l00782">StreamWrapper\stream_open()</a>, <a class="el" href="_stream_wrapper_f_s_8php_source.html#l00155">StreamWrapperFS\testDirectoryExists()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01109">StreamWrapper\unlink()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01145">StreamWrapper\url_stat()</a>.</p>

</div>
</div>
<a class="anchor" id="a6572ee8e63a1c3360385286ac209e0ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path_to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rename a swift object. </p>
<p>This works by copying the object (metadata) and then removing the original version.</p>
<p>This DOES support cross-container renaming.</p>
<p>See <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_container.html#a45dbf91fdb51032a386509abce2c5bad" title="Copy an object to another place in object storage.">Container::copy()</a>.</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"><a class="code" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">Bootstrap::setConfiguration</a>(array(</div>
<div class="line">  <span class="stringliteral">&#39;tenantname&#39;</span> =&gt; <span class="stringliteral">&#39;foo@example.com&#39;</span>,</div>
<div class="line">  <span class="comment">// &#39;tenantid&#39; =&gt; &#39;1234&#39;, // You can use this instead of tenantname</span></div>
<div class="line">  <span class="stringliteral">&#39;account&#39;</span> =&gt; <span class="stringliteral">&#39;1234&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;secret&#39;</span> =&gt; <span class="stringliteral">&#39;4321&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;endpoint&#39;</span> =&gt; <span class="stringliteral">&#39;https://auth.example.com&#39;</span>,</div>
<div class="line">));</div>
<div class="line"></div>
<div class="line">$from = <span class="stringliteral">&#39;swift://containerOne/file.txt&#39;</span>;</div>
<div class="line">$to = <span class="stringliteral">&#39;swift://containerTwo/file.txt&#39;</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Rename can also take a context as a third param.</span></div>
<div class="line"><a class="code" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html#a6572ee8e63a1c3360385286ac209e0ff" title="Rename a swift object.">rename</a>($from, $to);</div>
<div class="line"></div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path_from</td><td>A swift URL that exists on the remote. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$path_to</td><td>A swift URL to another path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE on success, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00570">570</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00026">$container</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00035">$object</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01472">StreamWrapper\parseUrl()</a>.</p>

</div>
</div>
<a class="anchor" id="a035c13183d5b45ff0c22a7dbd7fddfef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">serviceCatalog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPERT: Get the service catalog (IdentityServices) for this wrapper. </p>
<p>This is only available when a file is opened via fopen().</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>A service catalog. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>object() </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01247">1247</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="_object_storage_8php_source.html#l00317">ObjectStorage\token()</a>.</p>

</div>
</div>
<a class="anchor" id="aedb3b9354b6451554912fd1cb36bb2d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">setMode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the fopen mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$mode</td><td>The mode string, e.g. <code>r+</code> or <code>wb</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html" title="Provides stream wrapping for Swift.">HPCloud::Storage::ObjectStorage::StreamWrapper</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>$this so the method can be used in chaining. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01338">1338</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l00782">StreamWrapper\stream_open()</a>.</p>

</div>
</div>
<a class="anchor" id="afd8c7ec563b853761ea7d3470d0bee73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_cast </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cast_as</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cast stream into a lower-level stream. </p>
<p>This is used for stream_select() and perhaps others.Because it exposes the lower-level buffer objects, this function can have unexpected side effects.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">resource</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resource this returns the underlying stream. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00618">618</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="af4c22f18f65f3a87da0abd141752a3f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a stream, writing if necessary. </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"></div>
<div class="line"><span class="comment">// Assuming $cxt has a valid context.</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="streams-tutorial-example_8php.html#ad49a2659ea99542f3b17418b5e20f1a6">$file</a> = fopen(<span class="stringliteral">&#39;swift://container/file.txt&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, FALSE, <a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a>);</div>
<div class="line"></div>
<div class="line">fclose($file);</div>
<div class="line"></div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>This will close the present stream. Importantly, this will also write to the remote object storage if any changes have been made locally.</p>
<p>See stream_open(). </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00643">643</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="_stream_wrapper_8php_source.html#l00700">StreamWrapper\writeRemote()</a>.</p>

</div>
</div>
<a class="anchor" id="a3e9ce71f7c8ab0db36dfd38ea2039476"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_eof </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the stream has reached its end. </p>
<p>This checks whether the stream has reached the end of the object's contents.</p>
<p>Called when <code>feof()</code> is called on a stream.</p>
<p>See stream_seek().</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE if it has reached the end, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00672">672</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8bc9b070955b413c37b960e4bf0a73d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate saving data on the remote object storage. </p>
<p>If the local copy of this object has been modified, it is written remotely.</p>
<p>Called when <code>fflush()</code> is called on a stream. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00684">684</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="_stream_wrapper_8php_source.html#l00700">StreamWrapper\writeRemote()</a>.</p>

</div>
</div>
<a class="anchor" id="ad1e362aaee8513dec3d2be62cd3a402c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_open </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$opened_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a stream resource. </p>
<p>This opens a given stream resource and prepares it for reading or writing.</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"><a class="code" href="streams-tutorial-example_8php.html#ab8dcbed10863cd3734ef850387337cf4">$cxt</a> = stream_context_create(array(</div>
<div class="line">  <span class="stringliteral">&#39;account&#39;</span> =&gt; <span class="stringliteral">&#39;1bc123456&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;tenantid&#39;</span> =&gt; <span class="stringliteral">&#39;987654321&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;secret&#39;</span> =&gt; <span class="stringliteral">&#39;eieio&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;endpoint&#39;</span> =&gt; <span class="stringliteral">&#39;https://auth.example.com&#39;</span>,</div>
<div class="line">));</div>
<div class="line">?&gt;</div>
<div class="line"></div>
<div class="line">$file = fopen(<span class="stringliteral">&#39;swift://myContainer/myObject.csv&#39;</span>, <span class="stringliteral">&#39;rb&#39;</span>, FALSE, $cxt);</div>
<div class="line"><span class="keywordflow">while</span> ($bytes = fread($file, 8192)) {</div>
<div class="line">  print $bytes;</div>
<div class="line">}</div>
<div class="line">fclose($file);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>If a file is opened in write mode, its contents will be retrieved from the remote storage and cached locally for manipulation. If the file is opened in a write-only mode, the contents will be created locally and then pushed remotely as necessary.</p>
<p>During this operation, the remote host may need to be contacted for authentication as well as for file retrieval.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The URL to the resource. See the class description for details, but typically this expects URLs in the form <code>swift://CONTAINER/OBJECT</code>. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$mode</td><td>Any of the documented mode strings. See fopen(). For any file that is in a writing mode, the file will be saved remotely on flush or close. Note that there is an extra mode: 'nope'. It acts like 'c+' except that it is never written remotely. This is useful for debugging the stream locally without sending that data to object storage. (Note that data is still fetched &ndash; just never written.) </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$options</td><td>An OR'd list of options. Only STREAM_REPORT_ERRORS has any meaning to this wrapper, as it is not working with local files. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$opened_path</td><td>This is not used, as this wrapper deals only with remote objects. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00782">782</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="_object_storage_8php_source.html#l00086">ObjectStorage\$token</a>, <a class="el" href="_object_storage_8php_source.html#l00090">ObjectStorage\$url</a>, <a class="el" href="_object_storage_8php_source.html#l00409">ObjectStorage\container()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01426">StreamWrapper\cxt()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01472">StreamWrapper\parseUrl()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01338">StreamWrapper\setMode()</a>.</p>

</div>
</div>
<a class="anchor" id="acf4adec38e34adc3b8cdec2f6ddaf1df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read N bytes from the stream. </p>
<p>This will read up to the requested number of bytes. Or, upon hitting the end of the file, it will return NULL.</p>
<p>See fread(), fgets(), and so on for examples.</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">$cxt = stream_context_create(array(</div>
<div class="line">  <span class="stringliteral">&#39;tenantname&#39;</span> =&gt; <span class="stringliteral">&#39;me@example.com&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;username&#39;</span> =&gt; <span class="stringliteral">&#39;me@example.com&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;password&#39;</span> =&gt; <span class="stringliteral">&#39;secret&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;endpoint&#39;</span> =&gt; <span class="stringliteral">&#39;https://auth.example.com&#39;</span>,</div>
<div class="line">));</div>
<div class="line"></div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#a57b284fe00866494b33afa80ba729bed">$content</a> = file_get_contents(<span class="stringliteral">&#39;swift://public/myfile.txt&#39;</span>, FALSE, $cxt);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$count</td><td>The number of bytes to read (usually 8192). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The data read. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00980">980</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a11b8cbb2e2211df9c677df917afe092f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_seek </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a seek. </p>
<p>This is called whenever <code>fseek()</code> or <code>rewind()</code> is called on a Swift stream.</p>
<dl class="section attention"><dt>Attention</dt><dd>IMPORTANT: Unlike the PHP core, this library allows you to fseek() inside of a file opened in append mode ('a' or 'a+'). </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00995">995</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0758ac0913bc66f471a24637532e8721"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_set_option </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set options on the underlying stream. </p>
<p>The settings here do not trickle down to the network socket, which is left open for only a brief period of time. Instead, they impact the middle buffer stream, where the file is read and written to between flush/close operations. Thus, tuning these will not have any impact on network performance.</p>
<p>See stream_set_blocking(), stream_set_timeout(), and stream_write_buffer(). </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01014">1014</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad5c2e5aede8f0bd6b523de4be61f169a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_stat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform stat()/lstat() operations. </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">  $file = fopen(<span class="stringliteral">&#39;swift://foo/bar&#39;</span>, <span class="stringliteral">&#39;r+&#39;</span>, FALSE, $cxt);</div>
<div class="line">  $stats = fstat($file);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>To use standard <code>stat()</code> on a Swift stream, you will need to set account information (tenant ID, account ID, secret, etc.) through <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">HPCloud::Bootstrap::setConfiguration()</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array The stats array. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01046">1046</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="_object_storage_8php_source.html#l00409">ObjectStorage\container()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01271">StreamWrapper\generateStat()</a>.</p>

</div>
</div>
<a class="anchor" id="aa3320416e4520b888b7a9b0ce6508cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_tell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current position in the stream. </p>
<p>See ftell() and fseek().</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int The current position in the stream. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01065">1065</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0f84598d2e48826e33d9c7de5364419a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stream_write </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to stream. </p>
<p>This writes data to the local stream buffer. Data is not pushed remotely until stream_close() or stream_flush() is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$data</td><td>Data to write to the stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int The number of bytes written. 0 indicates and error. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01082">1082</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad854e194dde5dc5422ee0f3221e48ba5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">token </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EXPERT: Get the auth token for this wrapper. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>A token. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>object() </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01234">1234</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad6244fc254de2b00ab567e4e0b82a4b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unlink </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlink a file. </p>
<p>This removes the remote copy of the file. Like a normal unlink operation, it does not destroy the (local) file handle until the file is closed. Therefore you can continue accessing the object locally.</p>
<p>Note that OpenStack Swift does not draw a distinction between file objects and "directory" objects (where the latter is a 0-byte object). This will delete either one. If you are using directory markers, not that deleting a marker will NOT delete the contents of the "directory".</p>
<dl class="section attention"><dt>Attention</dt><dd>You will need to use <a class="el" href="class_h_p_cloud_1_1_bootstrap.html#ad616b4b781e11d863e7421361b49233e" title="Set configuration directives for HPCloud.">HPCloud::Bootstrap::setConfiguration()</a> to set the necessary stream configuration, since <code>unlink()</code> does not take a context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean TRUE if the file was deleted, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01109">1109</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00026">$container</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, <a class="el" href="_object_storage_8php_source.html#l00086">ObjectStorage\$token</a>, <a class="el" href="_object_storage_8php_source.html#l00090">ObjectStorage\$url</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01472">StreamWrapper\parseUrl()</a>.</p>

</div>
</div>
<a class="anchor" id="abcc2fea2362bdc22b2a1c9387176429c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">url_stat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See Also</dt><dd>stream_stat(). </dd></dl>

<p>Reimplemented in <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper_f_s.html#abcc2fea2362bdc22b2a1c9387176429c">StreamWrapperFS</a>.</p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l01145">1145</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00026">$container</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>, <a class="el" href="_stream_wrapper_8php_source.html#l00338">StreamWrapper\$obj</a>, <a class="el" href="_object_storage_8php_source.html#l00086">ObjectStorage\$token</a>, <a class="el" href="_object_storage_8php_source.html#l00090">ObjectStorage\$url</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01271">StreamWrapper\generateStat()</a>, <a class="el" href="_stream_wrapper_8php_source.html#l01519">StreamWrapper\initializeObjectStorage()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01472">StreamWrapper\parseUrl()</a>.</p>

</div>
</div>
<a class="anchor" id="a419dcade675e2a918603e4125b017b17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">writeRemote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write data to the remote object storage. </p>
<p>Internally, this is used by flush and close. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00700">700</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>References <a class="el" href="_object_storage_8php_source.html#l00409">ObjectStorage\container()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l01426">StreamWrapper\cxt()</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l00643">StreamWrapper\stream_close()</a>, and <a class="el" href="_stream_wrapper_8php_source.html#l00684">StreamWrapper\stream_flush()</a>.</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a8a016e715a7e310b58109bc7b642c747"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$authToken</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00296">296</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab97dd40df90f4ce6f0fce9091e7c7872"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage.html#a653db5e4640b0c47104ff55fe6ca4a5a">container</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_container.html" title="A container in an ObjectStorage.">Container</a>. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00333">333</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae05dedb802ada0155efdece2044fed64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$context</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The stream context. </p>
<p>This is set automatically when the stream wrapper is created by PHP. Note that it is not set through a constructor. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00292">292</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a96d15ce7a7d5c4a5c519c82d1be00294"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$contextArray = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00293">293</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9d55ec7ee52ed2b5ff85ad8d7cdef73e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$createIfNotFound = TRUE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00307">307</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a39c7be59fa2604937a9e6d2a3987b536"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$dirIndex = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00351">351</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a98db9d66e5325d242aff1e9dc4b6e967"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$dirListing = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Directory listing. </p>
<p>Used for directory methods. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00350">350</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_f_s_8php_source.html#l00155">StreamWrapperFS\testDirectoryExists()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7679dce3f658de3425ed48dcd01d0c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$dirPrefix = ''</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00352">352</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a75caa233380493d8dec253b43355907c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isAppending = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00305">305</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a005aa202b8a69f281e5f5e5c54d6fde5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isBinary = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00300">300</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="adb744c25bb65c3387931b00050dcedda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isDirty = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate whether the local differs from remote. </p>
<p>When the file is modified in such a way that it needs to be written remotely, the isDirty flag is set to TRUE. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00323">323</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4244816f9882af2bb974b7f23902308d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isNeverDirty = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If this is TRUE, no data is ever sent to the remote server. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00312">312</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab95346b7f0b81bb5119d1dc012807d6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isReading = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00303">303</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a579975aecb373390d54669ac632f5481"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isText = TRUE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00301">301</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a45e0da6b9eee0bb28f3025d6acc5c77a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isTruncating = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00304">304</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5da2e71fb3bbfa621ee73a2847d3e3b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$isWriting = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00302">302</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad010035d07ce718aea0c188d4bc1851c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$noOverwrite = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00306">306</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9008ed94ba185855b1723e367744b87e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$obj</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00338">338</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

<p>Referenced by <a class="el" href="_stream_wrapper_8php_source.html#l01145">StreamWrapper\url_stat()</a>.</p>

</div>
</div>
<a class="anchor" id="af428d049c9f87c0a6a050ce362fbd789"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$objStream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IO stream for the <a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a>. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00343">343</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="adb7d474c40d06c86224d2a23593c03a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$schemeName = self::DEFAULT_SCHEME</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00295">295</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae57d674676e1fdf4e53e475d999b662c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$serviceCatalogCache = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache of auth token -&gt; service catalog. </p>
<p>This will eventually be replaced by a better system, but for a system of moderate complexity, many, many file operations may be run during the course of a request. Caching the catalog can prevent numerous calls to identity services. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00284">284</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="a827b42f70d98e1bf51ff54dbbe771421"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$store</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_object.html" title="An object for ObjectStorage.">Object</a> storage instance. </p>

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00328">328</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="af73943221d5f747e279717b9df2ffc2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$triggerErrors = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00314">314</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<a class="anchor" id="aed0e317ab7e39747995de2d1985b09d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DEFAULT_SCHEME = 'swift'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_stream_wrapper_8php_source.html#l00274">274</a> of file <a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/HPCloud/Storage/ObjectStorage/<a class="el" href="_stream_wrapper_8php_source.html">StreamWrapper.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_h_p_cloud.html">HPCloud</a></li><li class="navelem"><a class="el" href="namespace_h_p_cloud_1_1_storage.html">Storage</a></li><li class="navelem"><a class="el" href="namespace_h_p_cloud_1_1_storage_1_1_object_storage.html">ObjectStorage</a></li><li class="navelem"><a class="el" href="class_h_p_cloud_1_1_storage_1_1_object_storage_1_1_stream_wrapper.html">StreamWrapper</a></li>
    <li class="footer">Generated on Tue Nov 6 2012 10:50:36 for HPCloud-PHP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HPCloud-PHP: IdentityServices Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HPCloud-PHP
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
   <div id="projectbrief">PHP bindings for HPCloud and OpenStack services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_h_p_cloud_1_1_services_1_1_identity_services.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_h_p_cloud_1_1_services_1_1_identity_services-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IdentityServices Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> provides authentication and authorization.  
 <a href="class_h_p_cloud_1_1_services_1_1_identity_services.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af8e0b4973827723e65906c95202d1f21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#af8e0b4973827723e65906c95202d1f21">__construct</a> ($<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#abc5ed2ad3f9365fb31cc1eb625b974d9">url</a>)</td></tr>
<tr class="memdesc:af8e0b4973827723e65906c95202d1f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a new <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> object.  <a href="#af8e0b4973827723e65906c95202d1f21"></a><br/></td></tr>
<tr class="memitem:abc5ed2ad3f9365fb31cc1eb625b974d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#abc5ed2ad3f9365fb31cc1eb625b974d9">url</a> ()</td></tr>
<tr class="memdesc:abc5ed2ad3f9365fb31cc1eb625b974d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the endpoint URL.  <a href="#abc5ed2ad3f9365fb31cc1eb625b974d9"></a><br/></td></tr>
<tr class="memitem:af4691716f88ed8108b863fcfb4bb1488"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#af4691716f88ed8108b863fcfb4bb1488">authenticate</a> (array $ops)</td></tr>
<tr class="memdesc:af4691716f88ed8108b863fcfb4bb1488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an authentication request.  <a href="#af4691716f88ed8108b863fcfb4bb1488"></a><br/></td></tr>
<tr class="memitem:a4d69f9f018c720dd1080d6ffd93dbcbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4d69f9f018c720dd1080d6ffd93dbcbc">authenticateAsUser</a> ($username, $password, $<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4fb1bf5e8cea7a83f298e405f4bab7a8">tenantId</a>=NULL, $<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a727a5530071ab0a9a950632fb955d067">tenantName</a>=NULL)</td></tr>
<tr class="memdesc:a4d69f9f018c720dd1080d6ffd93dbcbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authenticate to Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> with username, password, and either tenant ID or tenant Name.  <a href="#a4d69f9f018c720dd1080d6ffd93dbcbc"></a><br/></td></tr>
<tr class="memitem:acd01fd7263d150fb3885cd46348eaa6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#acd01fd7263d150fb3885cd46348eaa6f">authenticateAsAccount</a> ($account, $key, $<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4fb1bf5e8cea7a83f298e405f4bab7a8">tenantId</a>=NULL, $<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a727a5530071ab0a9a950632fb955d067">tenantName</a>=NULL)</td></tr>
<tr class="memdesc:acd01fd7263d150fb3885cd46348eaa6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authenticate to <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> using your account ID and access key.  <a href="#acd01fd7263d150fb3885cd46348eaa6f"></a><br/></td></tr>
<tr class="memitem:ad854e194dde5dc5422ee0f3221e48ba5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ad854e194dde5dc5422ee0f3221e48ba5">token</a> ()</td></tr>
<tr class="memdesc:ad854e194dde5dc5422ee0f3221e48ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the token.  <a href="#ad854e194dde5dc5422ee0f3221e48ba5"></a><br/></td></tr>
<tr class="memitem:a4fb1bf5e8cea7a83f298e405f4bab7a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4fb1bf5e8cea7a83f298e405f4bab7a8">tenantId</a> ()</td></tr>
<tr class="memdesc:a4fb1bf5e8cea7a83f298e405f4bab7a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the tenant ID associated with this token.  <a href="#a4fb1bf5e8cea7a83f298e405f4bab7a8"></a><br/></td></tr>
<tr class="memitem:a727a5530071ab0a9a950632fb955d067"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a727a5530071ab0a9a950632fb955d067">tenantName</a> ()</td></tr>
<tr class="memdesc:a727a5530071ab0a9a950632fb955d067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the tenant name associated with this token.  <a href="#a727a5530071ab0a9a950632fb955d067"></a><br/></td></tr>
<tr class="memitem:a601bd3bfb08985e96124da8d6ca7ab70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a601bd3bfb08985e96124da8d6ca7ab70">tokenDetails</a> ()</td></tr>
<tr class="memdesc:a601bd3bfb08985e96124da8d6ca7ab70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the token details.  <a href="#a601bd3bfb08985e96124da8d6ca7ab70"></a><br/></td></tr>
<tr class="memitem:abb11289cf089b701b7dc4002c10713d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#abb11289cf089b701b7dc4002c10713d1">isExpired</a> ()</td></tr>
<tr class="memdesc:abb11289cf089b701b7dc4002c10713d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the current identity has an expired token.  <a href="#abb11289cf089b701b7dc4002c10713d1"></a><br/></td></tr>
<tr class="memitem:a4a14184aef00e1b7ee4d42b57a9e0f8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4a14184aef00e1b7ee4d42b57a9e0f8b">serviceCatalog</a> ($type=NULL)</td></tr>
<tr class="memdesc:a4a14184aef00e1b7ee4d42b57a9e0f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the service catalog, optionaly filtering by type.  <a href="#a4a14184aef00e1b7ee4d42b57a9e0f8b"></a><br/></td></tr>
<tr class="memitem:ae8a275690ff1b618e1947378b0ed73ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ae8a275690ff1b618e1947378b0ed73ae">user</a> ()</td></tr>
<tr class="memdesc:ae8a275690ff1b618e1947378b0ed73ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about the currently authenticated user.  <a href="#ae8a275690ff1b618e1947378b0ed73ae"></a><br/></td></tr>
<tr class="memitem:a5f51b1ee97b7d5d54ea5d0e7c5ba1161"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a5f51b1ee97b7d5d54ea5d0e7c5ba1161">tenants</a> ($<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ad854e194dde5dc5422ee0f3221e48ba5">token</a>=NULL)</td></tr>
<tr class="memdesc:a5f51b1ee97b7d5d54ea5d0e7c5ba1161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of all tenants associated with this account.  <a href="#a5f51b1ee97b7d5d54ea5d0e7c5ba1161"></a><br/></td></tr>
<tr class="memitem:a4534fef9a9e00d2f005d79d30936ee83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4534fef9a9e00d2f005d79d30936ee83">rescope</a> ($<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4fb1bf5e8cea7a83f298e405f4bab7a8">tenantId</a>)</td></tr>
<tr class="memitem:a1b7cf804f63641ca4ef3e7929c0c9ff0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a1b7cf804f63641ca4ef3e7929c0c9ff0">rescopeUsingTenantId</a> ($<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4fb1bf5e8cea7a83f298e405f4bab7a8">tenantId</a>)</td></tr>
<tr class="memdesc:a1b7cf804f63641ca4ef3e7929c0c9ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rescope the authentication token to a different tenant.  <a href="#a1b7cf804f63641ca4ef3e7929c0c9ff0"></a><br/></td></tr>
<tr class="memitem:abfece595d00acaff428b1d6fd80543cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#abfece595d00acaff428b1d6fd80543cc">rescopeUsingTenantName</a> ($<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a727a5530071ab0a9a950632fb955d067">tenantName</a>)</td></tr>
<tr class="memdesc:abfece595d00acaff428b1d6fd80543cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rescope the authentication token to a different tenant.  <a href="#abfece595d00acaff428b1d6fd80543cc"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0ed0d8617b3abaac92e82720d9fab3f3"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a0ed0d8617b3abaac92e82720d9fab3f3">API_VERSION</a> = '2.0'</td></tr>
<tr class="memdesc:a0ed0d8617b3abaac92e82720d9fab3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The version of the API currently supported.  <a href="#a0ed0d8617b3abaac92e82720d9fab3f3"></a><br/></td></tr>
<tr class="memitem:a7392031ea033556deb5dda0f96bbfd87"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a7392031ea033556deb5dda0f96bbfd87">ACCEPT_TYPE</a> = 'application/json'</td></tr>
<tr class="memdesc:a7392031ea033556deb5dda0f96bbfd87"><td class="mdescLeft">&#160;</td><td class="mdescRight">The full OpenStack accept type.  <a href="#a7392031ea033556deb5dda0f96bbfd87"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a96ec0ecd21308180ae399d9c70c3d148"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a96ec0ecd21308180ae399d9c70c3d148">handleResponse</a> ($response)</td></tr>
<tr class="memdesc:a96ec0ecd21308180ae399d9c70c3d148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a response object, populate this object.  <a href="#a96ec0ecd21308180ae399d9c70c3d148"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:afb5204f7604df2f50a0058cb0e024875"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#afb5204f7604df2f50a0058cb0e024875">$endpoint</a></td></tr>
<tr class="memdesc:afb5204f7604df2f50a0058cb0e024875"><td class="mdescLeft">&#160;</td><td class="mdescRight">The URL to the CS endpoint.  <a href="#afb5204f7604df2f50a0058cb0e024875"></a><br/></td></tr>
<tr class="memitem:ad2a21a906a1155f28c3ac331580b1165"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ad2a21a906a1155f28c3ac331580b1165">$tokenDetails</a></td></tr>
<tr class="memdesc:ad2a21a906a1155f28c3ac331580b1165"><td class="mdescLeft">&#160;</td><td class="mdescRight">The details sent with the token.  <a href="#ad2a21a906a1155f28c3ac331580b1165"></a><br/></td></tr>
<tr class="memitem:ab30d2fd9b2fc63b1367117f70356e858"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ab30d2fd9b2fc63b1367117f70356e858">$catalog</a> = array()</td></tr>
<tr class="memdesc:ab30d2fd9b2fc63b1367117f70356e858"><td class="mdescLeft">&#160;</td><td class="mdescRight">The service catalog.  <a href="#ab30d2fd9b2fc63b1367117f70356e858"></a><br/></td></tr>
<tr class="memitem:ae8c43b63a8d057c971dcc367a6c327d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ae8c43b63a8d057c971dcc367a6c327d0">$userDetails</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> provides authentication and authorization. </p>
<p><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> (a.k.a. Keystone) provides a central service for managing other services. Through it, you can do the following:</p>
<ul>
<li>Authenticate</li>
<li>Obtain tokens valid accross services</li>
<li>Obtain a list of the services currently available with a token</li>
<li>Associate with tenants using tenant IDs.</li>
</ul>
<p><b>AUTHENTICATION</b> </p>
<p>The authentication process consists of a single transaction during which the client (us) submits credentials and the server verifies those credentials, returning a token (for subsequent requests), account information, and the service catalog.</p>
<p>Authentication credentials:</p>
<ul>
<li>Username and password</li>
<li>Account ID and Secret Key</li>
</ul>
<p>Other mechanisms may be supported in the future.</p>
<p><b>TENANTS</b> </p>
<p><a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> are associated with tenants. A token is returned when authentication succeeds. It <em>may</em> be associated with a tenant. If it is not, it is called "unscoped", and it will not have access to any services.</p>
<p>A token that is associated with a tenant is considered "scoped". This token can be used to access any of the services attached to that tenant.</p>
<p>There are two different ways to attach a tenant to a token:</p>
<ul>
<li>During authentication, provide a tenant ID. This will attach a tenant at the outset.</li>
<li>After authentication, "rescope" the token to attach it to a tenant. This is done with the <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4534fef9a9e00d2f005d79d30936ee83">rescope()</a> method.</li>
</ul>
<p><b>Where do I get a tenant ID?</b></p>
<p>There are two notable places to get this information:</p>
<p>A list of tenants associated with this account can be obtain programatically using the <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a5f51b1ee97b7d5d54ea5d0e7c5ba1161" title="Get a list of all tenants associated with this account.">tenants()</a> method on this object.</p>
<p><a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> customers can find their tenant ID in the console along with their account ID and secret key.</p>
<p><b>EXAMPLE</b> </p>
<p>The following example illustrates typical use of this class.</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"><span class="comment">// You may need to use \HPCloud\Bootstrap to set things up first.</span></div>
<div class="line"></div>
<div class="line">use \HPCloud\Services\IdentityServices;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Create a new object with the endpoint URL (no version number)</span></div>
<div class="line">$ident = <span class="keyword">new</span> IdentityServices(<span class="stringliteral">&#39;https://example.com:35357&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Authenticate and set the tenant ID simultaneously.</span></div>
<div class="line">$ident-&gt;authenticateAsUser(<span class="stringliteral">&#39;butcher@hp.com&#39;</span>, <span class="stringliteral">&#39;password&#39;</span>, <span class="stringliteral">&#39;1234567&#39;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// The token to use when connecting to other services:</span></div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#a00ae4fcafb1145f5e968bdf920f83e2e">$token</a> = $ident-&gt;token();</div>
<div class="line"></div>
<div class="line"><span class="comment">// The tenant ID.</span></div>
<div class="line">$tenant = $ident-&gt;tenantId();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Details about what services this token can access.</span></div>
<div class="line">$services = $ident-&gt;serviceCatalog();</div>
<div class="line"></div>
<div class="line"><span class="comment">// List all available tenants.</span></div>
<div class="line">$tenants = $ident-&gt;tenants();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Switch to a different tenant.</span></div>
<div class="line">$ident-&gt;rescope($tenants[0][<span class="stringliteral">&#39;id&#39;</span>]);</div>
<div class="line"></div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p><b>PERFORMANCE CONSIDERATIONS</b></p>
<p>The following methods require network requests:</p>
<ul>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#af4691716f88ed8108b863fcfb4bb1488" title="Send an authentication request.">authenticate()</a></li>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4d69f9f018c720dd1080d6ffd93dbcbc" title="Authenticate to Identity Services with username, password, and either tenant ID or tenant Name...">authenticateAsUser()</a></li>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#acd01fd7263d150fb3885cd46348eaa6f" title="Authenticate to HPCloud using your account ID and access key.">authenticateAsAccount()</a></li>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a5f51b1ee97b7d5d54ea5d0e7c5ba1161" title="Get a list of all tenants associated with this account.">tenants()</a></li>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4534fef9a9e00d2f005d79d30936ee83">rescope()</a></li>
</ul>
<p><b>Serializing</b></p>
<p><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> has been intentionally built to serialize well. This allows implementors to cache <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> objects rather than make repeated requests for identity information. </p>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00132">132</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af8e0b4973827723e65906c95202d1f21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a new <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">IdentityServices</a> object. </p>
<p>Each object is bound to a particular identity services endpoint.</p>
<p>For the URL, you are advised to use the version <em>without</em> a version number at the end, e.g. <a href="http://cs.example.com/">http://cs.example.com/</a> rather than <a href="http://cs.example.com/v2.0">http://cs.example.com/v2.0</a>. The version number must be controlled by the library.</p>
<dl class="section attention"><dt>Attention</dt><dd>If a version is included in the URI, the library will attempt to use that URI.</dd></dl>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">$cs = new \HPCloud\Services\IdentityServices(<span class="stringliteral">&#39;http://example.com&#39;</span>);</div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#a00ae4fcafb1145f5e968bdf920f83e2e">$token</a> = $cs-&gt;authenticateAsAccount($accountId, $accessKey);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>An URL pointing to the Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> endpoint. Note that you do not need the version identifier in the URL, as version information is sent in the HTTP headers rather than in the URL. <b>The URL should <em>always</em> be to an SSL/TLS encrypted endpoint.</b>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00208">208</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00136">IdentityServices\API_VERSION</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="af4691716f88ed8108b863fcfb4bb1488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticate </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$ops</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an authentication request. </p>
<dl class="section remark"><dt>Remarks</dt><dd>EXPERT: This allows authentication requests at a low level. For simple authentication requests using account number or username, see the <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4d69f9f018c720dd1080d6ffd93dbcbc" title="Authenticate to Identity Services with username, password, and either tenant ID or tenant Name...">authenticateAsUser()</a> and <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#acd01fd7263d150fb3885cd46348eaa6f" title="Authenticate to HPCloud using your account ID and access key.">authenticateAsAccount()</a> methods.</dd></dl>
<p>Here is an example of username/password-based authentication done with the <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#af4691716f88ed8108b863fcfb4bb1488" title="Send an authentication request.">authenticate()</a> method: </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">$cs = new \HPCloud\Services\IdentityServices($url);</div>
<div class="line">$ops = array(</div>
<div class="line">  <span class="stringliteral">&#39;passwordCredentials&#39;</span> =&gt; array(</div>
<div class="line">    <span class="stringliteral">&#39;username&#39;</span> =&gt; $username,</div>
<div class="line">    <span class="stringliteral">&#39;password&#39;</span> =&gt; $password,</div>
<div class="line">  ),</div>
<div class="line">  <span class="stringliteral">&#39;tenantId&#39;</span> =&gt; <a class="code" href="oo-tutorial-code_8php.html#a26979ce90bf4105e2b0abbf108d64dec">$tenantId</a>,</div>
<div class="line">);</div>
<div class="line"><a class="code" href="oo-tutorial-code_8php.html#a00ae4fcafb1145f5e968bdf920f83e2e">$token</a> = $cs-&gt;authenticate($ops);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>Note that the same authentication can be done by <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4d69f9f018c720dd1080d6ffd93dbcbc" title="Authenticate to Identity Services with username, password, and either tenant ID or tenant Name...">authenticateAsUser()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$ops</td><td>An associative array of authentication operations and their respective parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The token. This is returned for simplicity. The full response is used to populate this object's service catalog, etc. The token is also retrievable with <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#ad854e194dde5dc5422ee0f3221e48ba5" title="Get the token.">token()</a>. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_authorization_exception.html" title="Thrown when an access constraint is not met.">HPCloud::Transport::AuthorizationException</a></td><td>If authentication failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>For abnormal network conditions. The message will give an indication as to the underlying problem. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00272">272</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00843">IdentityServices\handleResponse()</a>, <a class="el" href="_identity_services_8php_source.html#l00425">IdentityServices\token()</a>, and <a class="el" href="_identity_services_8php_source.html#l00229">IdentityServices\url()</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00396">IdentityServices\authenticateAsAccount()</a>, and <a class="el" href="_identity_services_8php_source.html#l00335">IdentityServices\authenticateAsUser()</a>.</p>

</div>
</div>
<a class="anchor" id="acd01fd7263d150fb3885cd46348eaa6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticateAsAccount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantId</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantName</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Authenticate to <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> using your account ID and access key. </p>
<p>Given an account ID and and access key (secret key), authenticate to Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a>. Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> will then issue a token that can be used with other <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> services, such as Object <a class="el" href="namespace_h_p_cloud_1_1_storage.html" title="HPCloud classes for remote storage.">Storage</a> (aka Swift).</p>
<p>The account ID and access key information can be found in the account section of the console.</p>
<p>The third and fourth paramaters allow you to specify a tenant ID or tenantName. In order to access services, this object will need a tenant ID or tenant name. If none is specified, it can be set later using <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4534fef9a9e00d2f005d79d30936ee83">rescope()</a>. The <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a5f51b1ee97b7d5d54ea5d0e7c5ba1161" title="Get a list of all tenants associated with this account.">tenants()</a> method can be used to get a list of all available tenant IDs for this token.</p>
<p>Other authentication methods:</p>
<ul>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4d69f9f018c720dd1080d6ffd93dbcbc" title="Authenticate to Identity Services with username, password, and either tenant ID or tenant Name...">authenticateAsUser()</a></li>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#af4691716f88ed8108b863fcfb4bb1488" title="Send an authentication request.">authenticate()</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$account</td><td>The account ID. It should look something like this: 1234567890:abcdef123456. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>The access key (i.e. secret key), which should be a series of ASCII letters and digits. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tenantId</td><td>A valid tenant ID. This will be used to associate a tenant's services with this token. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tenantName</td><td>The tenant Name for this account. This can be obtained through the <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> console. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The auth token. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_authorization_exception.html" title="Thrown when an access constraint is not met.">HPCloud::Transport::AuthorizationException</a></td><td>If authentication failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>For abnormal network conditions. The message will give an indication as to the underlying problem. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00396">396</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00013">$account</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00014">$key</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00015">$tenantId</a>, and <a class="el" href="_identity_services_8php_source.html#l00272">IdentityServices\authenticate()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d69f9f018c720dd1080d6ffd93dbcbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticateAsUser </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantId</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantName</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Authenticate to Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> with username, password, and either tenant ID or tenant Name. </p>
<p>Given an <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> username and password, authenticate to Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a>. Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> will then issue a token that can be used to access other <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> services.</p>
<p>If a tenant ID is provided, this will also associate the user with the given tenant ID. If a tenant Name is provided, this will associate the user with the given tenant Name. Only the tenant ID or tenant Name needs to be given, not both.</p>
<p>If no tenant ID or tenant Name is given, it will likely be necessary to <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a4534fef9a9e00d2f005d79d30936ee83">rescope()</a> the request (See also <a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a5f51b1ee97b7d5d54ea5d0e7c5ba1161" title="Get a list of all tenants associated with this account.">tenants()</a>).</p>
<p>Other authentication methods:</p>
<ul>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#acd01fd7263d150fb3885cd46348eaa6f" title="Authenticate to HPCloud using your account ID and access key.">authenticateAsAccount()</a></li>
<li><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#af4691716f88ed8108b863fcfb4bb1488" title="Send an authentication request.">authenticate()</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>A valid username. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>A password string. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tenantId</td><td>The tenant ID for this account. This can be obtained through the <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> console. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tenantName</td><td>The tenant Name for this account. This can be obtained through the <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> console. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_authorization_exception.html" title="Thrown when an access constraint is not met.">HPCloud::Transport::AuthorizationException</a></td><td>If authentication failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>For abnormal network conditions. The message will give an indication as to the underlying problem. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00335">335</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00015">$tenantId</a>, and <a class="el" href="_identity_services_8php_source.html#l00272">IdentityServices\authenticate()</a>.</p>

</div>
</div>
<a class="anchor" id="a96ec0ecd21308180ae399d9c70c3d148"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">handleResponse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a response object, populate this object. </p>
<p>This parses the JSON data and parcels out the data to the appropriate fields.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$response</td><td><a class="el" href="class_h_p_cloud_1_1_transport_1_1_response.html" title="A Transport response.">HPCloud::Transport::Response</a> A response object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html" title="IdentityServices provides authentication and authorization.">HPCloud::Services::IdentityServices</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>$this for the current object so it can be used in chaining. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00843">843</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00596">IdentityServices\serviceCatalog()</a>, and <a class="el" href="_identity_services_8php_source.html#l00496">IdentityServices\tokenDetails()</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00272">IdentityServices\authenticate()</a>, <a class="el" href="_identity_services_8php_source.html#l00745">IdentityServices\rescopeUsingTenantId()</a>, and <a class="el" href="_identity_services_8php_source.html#l00803">IdentityServices\rescopeUsingTenantName()</a>.</p>

</div>
</div>
<a class="anchor" id="abb11289cf089b701b7dc4002c10713d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isExpired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the current identity has an expired token. </p>
<p>This does not perform a round-trip to the server. Instead, it compares the machine's local timestamp with the server's expiration time stamp. A mis-configured machine timestamp could give spurious results.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean This will return FALSE if there is a current token and it has not yet expired (according to the date info). In all other cases it returns TRUE. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00513">513</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00496">IdentityServices\tokenDetails()</a>.</p>

</div>
</div>
<a class="anchor" id="a4534fef9a9e00d2f005d79d30936ee83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rescope </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a1b7cf804f63641ca4ef3e7929c0c9ff0" title="Rescope the authentication token to a different tenant.">HPCloud::Services::IdentityServices::rescopeUsingTenantId()</a> </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00710">710</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00015">$tenantId</a>, and <a class="el" href="_identity_services_8php_source.html#l00745">IdentityServices\rescopeUsingTenantId()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b7cf804f63641ca4ef3e7929c0c9ff0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rescopeUsingTenantId </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rescope the authentication token to a different tenant. </p>
<p>Note that this will rebuild the service catalog and user information for the current object, since this information is sensitive to tenant info.</p>
<p>An authentication token can be in one of two states:</p>
<ul>
<li>unscoped: It has no associated tenant ID.</li>
<li>scoped: It has a tenant ID, and can thus access that tenant's services.</li>
</ul>
<p>This method allows you to do any of the following:</p>
<ul>
<li>Begin with an unscoped token, and assign it a tenant ID.</li>
<li>Change a token from one tenant ID to another (re-scoping).</li>
<li>Remove the tenant ID from a scoped token (unscoping).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tenantId</td><td>The tenant ID that this present token should be bound to. If this is the empty string (`''`), the present token will be "unscoped" and its tenant ID will be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The authentication token. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_authorization_exception.html" title="Thrown when an access constraint is not met.">HPCloud::Transport::AuthorizationException</a></td><td>If authentication failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>For abnormal network conditions. The message will give an indication as to the underlying problem. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00745">745</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00015">$tenantId</a>, <a class="el" href="oo-tutorial-code_8php_source.html#l00019">$token</a>, <a class="el" href="_identity_services_8php_source.html#l00843">IdentityServices\handleResponse()</a>, <a class="el" href="_identity_services_8php_source.html#l00425">IdentityServices\token()</a>, and <a class="el" href="_identity_services_8php_source.html#l00229">IdentityServices\url()</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00710">IdentityServices\rescope()</a>.</p>

</div>
</div>
<a class="anchor" id="abfece595d00acaff428b1d6fd80543cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rescopeUsingTenantName </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tenantName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rescope the authentication token to a different tenant. </p>
<p>Note that this will rebuild the service catalog and user information for the current object, since this information is sensitive to tenant info.</p>
<p>An authentication token can be in one of two states:</p>
<ul>
<li>unscoped: It has no associated tenant ID.</li>
<li>scoped: It has a tenant ID, and can thus access that tenant's services.</li>
</ul>
<p>This method allows you to do any of the following:</p>
<ul>
<li>Begin with an unscoped token, and assign it a tenant ID.</li>
<li>Change a token from one tenant ID to another (re-scoping).</li>
<li>Remove the tenant ID from a scoped token (unscoping).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tenantName</td><td>The tenant name that this present token should be bound to. If this is the empty string (`''`), the present token will be "unscoped" and its tenant name will be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The authentication token. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_authorization_exception.html" title="Thrown when an access constraint is not met.">HPCloud::Transport::AuthorizationException</a></td><td>If authentication failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>For abnormal network conditions. The message will give an indication as to the underlying problem. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00803">803</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00019">$token</a>, <a class="el" href="_identity_services_8php_source.html#l00843">IdentityServices\handleResponse()</a>, <a class="el" href="_identity_services_8php_source.html#l00425">IdentityServices\token()</a>, and <a class="el" href="_identity_services_8php_source.html#l00229">IdentityServices\url()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a14184aef00e1b7ee4d42b57a9e0f8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">serviceCatalog </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the service catalog, optionaly filtering by type. </p>
<p>This returns the service catalog (largely unprocessed) that is returned during an authentication request. If a type is passed in, only entries of that type are returned. If no type is passed in, the entire service catalog is returned.</p>
<p>The service catalog contains information about what services (if any) are available for the present user. Object storage (Swift) Compute instances (Nova) and other services will each be listed here if they are enabled on your account. Only services that have been turned on for the account will be available. (That is, even if you <em>can</em> create a compute instance, until you have actually created one, it will not show up in this list.)</p>
<p>One of the authentication methods MUST be run before obtaining the service catalog.</p>
<p>The return value is an indexed array of associative arrays, where each assoc array describes an individual service. </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  array(</div>
<div class="line">    <span class="stringliteral">&#39;name&#39;</span> : <span class="stringliteral">&#39;Object Storage&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;object-store&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;endpoints&#39;</span> =&gt; array(</div>
<div class="line">      <span class="stringliteral">&#39;tenantId&#39;</span> =&gt; <span class="stringliteral">&#39;123456&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;adminURL&#39;</span> =&gt; <span class="stringliteral">&#39;https://example.hpcloud.net/1.0&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;publicURL&#39;</span> =&gt; <span class="stringliteral">&#39;https://example.hpcloud.net/1.0/123456&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;region&#39;</span> =&gt; <span class="stringliteral">&#39;region-a.geo-1&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;1.0&#39;</span>,</div>
<div class="line">    ),</div>
<div class="line">  ),</div>
<div class="line">  array(</div>
<div class="line">    <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Identity&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;identity&#39;</span></div>
<div class="line">    <span class="stringliteral">&#39;endpoints&#39;</span> =&gt; array(</div>
<div class="line">      <span class="stringliteral">&#39;publicURL&#39;</span> =&gt; <span class="stringliteral">&#39;https://example.hpcloud.net/1.0/123456&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;region&#39;</span> =&gt; <span class="stringliteral">&#39;region-a.geo-1&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;2.0&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;list&#39;</span> =&gt; <span class="stringliteral">&#39;http://example.hpcloud.net/extension&#39;</span>,</div>
<div class="line">    ),</div>
<div class="line">  )</div>
<div class="line"></div>
<div class="line">);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>This will not be populated until after authentication has been done.</p>
<p>Types:</p>
<p>While this is by no means an exhaustive list, here are a few types that might appear in a service catalog (and upon which you can filter):</p>
<ul>
<li>identity: Identity <a class="el" href="namespace_h_p_cloud_1_1_services.html" title="HPCloud classes providing access to various services.">Services</a> (i.e. Keystone)</li>
<li>compute: Compute instance (Nova)</li>
<li>object-store: Object <a class="el" href="namespace_h_p_cloud_1_1_storage.html" title="HPCloud classes for remote storage.">Storage</a> (Swift)</li>
<li>hpext:cdn: <a class="el" href="namespace_h_p_cloud.html" title="The HPCloud PHP library.">HPCloud</a> CDN service (yes, the colon belongs in there)</li>
</ul>
<p>Other services will be added.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Paging on the service catalog is not yet implemented.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An associative array representing the service catalog. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00596">596</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00843">IdentityServices\handleResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fb1bf5e8cea7a83f298e405f4bab7a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tenantId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the tenant ID associated with this token. </p>
<p>If this token has a tenant ID, the ID will be returned. Otherwise, this will return NULL.</p>
<p>This will not be populated until after an authentication method has been run.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The tenant ID if available, or NULL. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00442">442</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00496">IdentityServices\tokenDetails()</a>.</p>

</div>
</div>
<a class="anchor" id="a727a5530071ab0a9a950632fb955d067"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tenantName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the tenant name associated with this token. </p>
<p>If this token has a tenant name, the name will be returned. Otherwise, this will return NULL.</p>
<p>This will not be populated until after an authentication method has been run.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The tenant name if available, or NULL. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00461">461</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00496">IdentityServices\tokenDetails()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f51b1ee97b7d5d54ea5d0e7c5ba1161"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tenants </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of all tenants associated with this account. </p>
<p>If a valid token is passed into this object, the method can be invoked before authentication. However, if no token is supplied, this attempts to use the one returned by an authentication call.</p>
<p>Returned data will follow this format:</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  array(</div>
<div class="line">    <span class="stringliteral">&quot;id&quot;</span> =&gt;  <span class="stringliteral">&quot;395I91234514446&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;name&quot;</span> =&gt; <span class="stringliteral">&quot;Banking Tenant Services&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span> =&gt; <span class="stringliteral">&quot;Banking Tenant Services for TimeWarner&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;enabled&quot;</span> =&gt; TRUE,</div>
<div class="line">    <span class="stringliteral">&quot;created&quot;</span> =&gt; <span class="stringliteral">&quot;2011-11-29T16:59:52.635Z&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;updated&quot;</span> =&gt; <span class="stringliteral">&quot;2011-11-29T16:59:52.635Z&quot;</span>,</div>
<div class="line">  ),</div>
<div class="line">);</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>Note that this method invokes a new request against the remote server.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An indexed array of tenant info. Each entry will be an associative array containing tenant details. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_authorization_exception.html" title="Thrown when an access constraint is not met.">HPCloud::Transport::AuthorizationException</a></td><td>If authentication failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="class_h_p_cloud_1_1_exception.html" title="The top-level HPCloud exception.">HPCloud::Exception</a></td><td>For abnormal network conditions. The message will give an indication as to the underlying problem. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00683">683</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00019">$token</a>, <a class="el" href="_identity_services_8php_source.html#l00425">IdentityServices\token()</a>, and <a class="el" href="_identity_services_8php_source.html#l00229">IdentityServices\url()</a>.</p>

</div>
</div>
<a class="anchor" id="ad854e194dde5dc5422ee0f3221e48ba5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">token </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the token. </p>
<p>This will not be populated until after one of the authentication methods has been run.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The token ID to be used in subsequent calls. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00425">425</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00496">IdentityServices\tokenDetails()</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00272">IdentityServices\authenticate()</a>, <a class="el" href="_identity_services_8php_source.html#l00745">IdentityServices\rescopeUsingTenantId()</a>, <a class="el" href="_identity_services_8php_source.html#l00803">IdentityServices\rescopeUsingTenantName()</a>, and <a class="el" href="_identity_services_8php_source.html#l00683">IdentityServices\tenants()</a>.</p>

</div>
</div>
<a class="anchor" id="a601bd3bfb08985e96124da8d6ca7ab70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tokenDetails </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the token details. </p>
<p>This returns an associative array with several pieces of information about the token, including:</p>
<ul>
<li>id: The token itself</li>
<li>expires: When the token expires</li>
<li>tenant_id: The tenant ID of the authenticated user.</li>
<li>tenant_name: The username of the authenticated user.</li>
</ul>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;auth_123abc321defef99&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;tenant&#39;</span> =&gt; array(</div>
<div class="line">    <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;123456&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;matt.butcher@hp.com&#39;</span>,</div>
<div class="line">  ),</div>
<div class="line">  <span class="stringliteral">&#39;expires&#39;</span> =&gt; <span class="stringliteral">&#39;2012-01-24T12:46:01.682Z&#39;</span></div>
<div class="line">);</div>
</div><!-- fragment --><p>This will not be populated until after authentication has been done.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An associative array of details. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00496">496</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00172">IdentityServices\$tokenDetails</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00843">IdentityServices\handleResponse()</a>, <a class="el" href="_identity_services_8php_source.html#l00513">IdentityServices\isExpired()</a>, <a class="el" href="_identity_services_8php_source.html#l00442">IdentityServices\tenantId()</a>, <a class="el" href="_identity_services_8php_source.html#l00461">IdentityServices\tenantName()</a>, and <a class="el" href="_identity_services_8php_source.html#l00425">IdentityServices\token()</a>.</p>

</div>
</div>
<a class="anchor" id="abc5ed2ad3f9365fb31cc1eb625b974d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">url </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the endpoint URL. </p>
<p>This includes version number, so in that regard it is not an identical URL to the one passed into the constructor.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The complete URL to the identity services endpoint. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00229">229</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00147">IdentityServices\$endpoint</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00272">IdentityServices\authenticate()</a>, <a class="el" href="_identity_services_8php_source.html#l00745">IdentityServices\rescopeUsingTenantId()</a>, <a class="el" href="_identity_services_8php_source.html#l00803">IdentityServices\rescopeUsingTenantName()</a>, and <a class="el" href="_identity_services_8php_source.html#l00683">IdentityServices\tenants()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8a275690ff1b618e1947378b0ed73ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about the currently authenticated user. </p>
<p>This returns an associative array of information about the authenticated user, including the user's username and roles.</p>
<p>The returned data is structured like this: </p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;matthew.butcher@hp.com&#39;</span>,</div>
<div class="line">  <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;1234567890&#39;</span></div>
<div class="line">  <span class="stringliteral">&#39;roles&#39;</span> =&gt; array(</div>
<div class="line">    array(</div>
<div class="line">      <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;domainuser&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;serviceId&#39;</span> =&gt; <span class="stringliteral">&#39;100&#39;</span>,</div>
<div class="line">      <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;000100400010011&#39;</span>,</div>
<div class="line">    ),</div>
<div class="line">    <span class="comment">// One array for each role...</span></div>
<div class="line">  ),</div>
<div class="line">)</div>
<div class="line">?&gt;</div>
</div><!-- fragment --><p>This will not have data until after authentication has been done.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An associative array, as described above. </dd></dl>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00643">643</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>References <a class="el" href="_identity_services_8php_source.html#l00179">IdentityServices\$userDetails</a>.</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="ab30d2fd9b2fc63b1367117f70356e858"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$catalog = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The service catalog. </p>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00177">177</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

</div>
</div>
<a class="anchor" id="afb5204f7604df2f50a0058cb0e024875"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$endpoint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The URL to the CS endpoint. </p>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00147">147</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00229">IdentityServices\url()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2a21a906a1155f28c3ac331580b1165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html#a601bd3bfb08985e96124da8d6ca7ab70">tokenDetails</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The details sent with the token. </p>
<p>The exact details of this array will differ depending on what type of authentication is used. For example, authenticating by username and password will set tenant information. Authenticating by account ID and secret, however, will leave the tenant section empty.</p>
<p>This is an associative array looking like this:</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line">array(</div>
<div class="line">  <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;auth_123abc321defef99&#39;</span>,</div>
<div class="line">  <span class="comment">// Only non-empty for username/password auth.</span></div>
<div class="line">  <span class="stringliteral">&#39;tenant&#39;</span> =&gt; array(</div>
<div class="line">    <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;123456&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;matt.butcher@hp.com&#39;</span>,</div>
<div class="line">  ),</div>
<div class="line">  <span class="stringliteral">&#39;expires&#39;</span> =&gt; <span class="stringliteral">&#39;2012-01-24T12:46:01.682Z&#39;</span></div>
<div class="line">);</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00172">172</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00496">IdentityServices\tokenDetails()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8c43b63a8d057c971dcc367a6c327d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$userDetails</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00179">179</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00643">IdentityServices\user()</a>.</p>

</div>
</div>
<a class="anchor" id="a7392031ea033556deb5dda0f96bbfd87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const ACCEPT_TYPE = 'application/json'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The full OpenStack accept type. </p>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00140">140</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0ed0d8617b3abaac92e82720d9fab3f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const API_VERSION = '2.0'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The version of the API currently supported. </p>

<p>Definition at line <a class="el" href="_identity_services_8php_source.html#l00136">136</a> of file <a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a>.</p>

<p>Referenced by <a class="el" href="_identity_services_8php_source.html#l00208">IdentityServices\__construct()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/HPCloud/Services/<a class="el" href="_identity_services_8php_source.html">IdentityServices.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_h_p_cloud.html">HPCloud</a></li><li class="navelem"><a class="el" href="namespace_h_p_cloud_1_1_services.html">Services</a></li><li class="navelem"><a class="el" href="class_h_p_cloud_1_1_services_1_1_identity_services.html">IdentityServices</a></li>
    <li class="footer">Generated on Tue Nov 6 2012 10:50:36 for HPCloud-PHP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>

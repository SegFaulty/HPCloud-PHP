<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HPCloud-PHP: CURLTransport Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HPCloud-PHP
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">PHP bindings for HPCloud and OpenStack services.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CURLTransport Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provide HTTP transport with CURL.  
 <a href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for CURLTransport:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.png" usemap="#CURLTransport_map" alt=""/>
  <map id="CURLTransport_map" name="CURLTransport_map">
<area href="interface_h_p_cloud_1_1_transport_1_1_transporter.html" title="Describes a Transporter." alt="Transporter" shape="rect" coords="0,0,98,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a421831a265621325e1fdd19aace0c758"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#a421831a265621325e1fdd19aace0c758">__destruct</a> ()</td></tr>
<tr class="memitem:a99e5570b2fd21c80d6244ad1665a85db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#a99e5570b2fd21c80d6244ad1665a85db">doRequest</a> ($uri, $method= 'GET', $headers=array(), $body=NULL)</td></tr>
<tr class="memdesc:a99e5570b2fd21c80d6244ad1665a85db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a request.  <a href="#a99e5570b2fd21c80d6244ad1665a85db"></a><br/></td></tr>
<tr class="memitem:a959e766c0228e247c0f5ab687e2d98e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#a959e766c0228e247c0f5ab687e2d98e2">doRequestWithResource</a> ($uri, $method, $headers, $resource)</td></tr>
<tr class="memdesc:a959e766c0228e247c0f5ab687e2d98e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a request, but use a resource to read the body.  <a href="#a959e766c0228e247c0f5ab687e2d98e2"></a><br/></td></tr>
<tr class="memitem:abeefab02f826c67acad349b6d3e62c23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#abeefab02f826c67acad349b6d3e62c23">setHeaders</a> ($curl, $headers)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae6324ee82189c6077b985b6b77327738"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#ae6324ee82189c6077b985b6b77327738">HTTP_USER_AGENT_SUFFIX</a> = ' (c93c0a) CURL/1.0'</td></tr>
<tr class="inherit_header pub_attribs_interface_h_p_cloud_1_1_transport_1_1_transporter"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_interface_h_p_cloud_1_1_transport_1_1_transporter')"><img src="closed.png" alt="-"/>&nbsp;Public Attributes inherited from <a class="el" href="interface_h_p_cloud_1_1_transport_1_1_transporter.html">Transporter</a></td></tr>
<tr class="memitem:a0a0a7e580efe549e01780677170720ac inherit pub_attribs_interface_h_p_cloud_1_1_transport_1_1_transporter"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_h_p_cloud_1_1_transport_1_1_transporter.html#a0a0a7e580efe549e01780677170720ac">HTTP_USER_AGENT</a> = 'HPCloud-PHP/1.0'</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae613cf283c40d4f408dc677068ccb9fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#ae613cf283c40d4f408dc677068ccb9fa">handleDoRequest</a> ($uri, $method, $headers, $in=NULL)</td></tr>
<tr class="memdesc:ae613cf283c40d4f408dc677068ccb9fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal workhorse.  <a href="#ae613cf283c40d4f408dc677068ccb9fa"></a><br/></td></tr>
<tr class="memitem:ae74b8d3c2c0a45733bcc632705409c7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#ae74b8d3c2c0a45733bcc632705409c7a">execCurl</a> ($handle)</td></tr>
<tr class="memdesc:ae74b8d3c2c0a45733bcc632705409c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poor man's connection pooling.  <a href="#ae74b8d3c2c0a45733bcc632705409c7a"></a><br/></td></tr>
<tr class="memitem:a02b87280ccafde066ca4f283c82372e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#a02b87280ccafde066ca4f283c82372e7">fetchHeaders</a> ($file)</td></tr>
<tr class="memdesc:a02b87280ccafde066ca4f283c82372e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads the header file into an array.  <a href="#a02b87280ccafde066ca4f283c82372e7"></a><br/></td></tr>
<tr class="memitem:a7d4ab2e3d808744c34569b9bf0462bb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#a7d4ab2e3d808744c34569b9bf0462bb5">determineMethod</a> ($curl, $method)</td></tr>
<tr class="memdesc:a7d4ab2e3d808744c34569b9bf0462bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the appropriate constant on the CURL object.  <a href="#a7d4ab2e3d808744c34569b9bf0462bb5"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae7d8bddec17a4cfedf3cb273ea75733a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#ae7d8bddec17a4cfedf3cb273ea75733a">$curlInst</a> = NULL</td></tr>
<tr class="memitem:ae0d6fd4f745b74b55ab17eb86a9fffe6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html#ae0d6fd4f745b74b55ab17eb86a9fffe6">$multi</a> = NULL</td></tr>
<tr class="memdesc:ae0d6fd4f745b74b55ab17eb86a9fffe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The curl_multi instance.  <a href="#ae0d6fd4f745b74b55ab17eb86a9fffe6"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provide HTTP transport with CURL. </p>
<p>You should choose the Curl backend if...</p>
<ul>
<li>You KNOW Curl support is compiled into your PHP version</li>
<li>You do not like the built-in PHP HTTP handler</li>
<li>Performance is a big deal to you</li>
<li>You will be sending large objects (&gt;2M)</li>
<li>Or PHP stream wrappers for URLs are not supported on your system.</li>
</ul>
<p>CURL is demonstrably faster than the built-in PHP HTTP handling, so ths library gives a performance boost. Error reporting is slightly better too.</p>
<p>But the real strong point to Curl is that it can take file objects and send them over HTTP without having to buffer them into strings first. This saves memory and processing.</p>
<p>The only downside to Curl is that it is not available on all hosts. Some installations of PHP do not compile support. </p>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00053">53</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a421831a265621325e1fdd19aace0c758"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__destruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00068">68</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a7d4ab2e3d808744c34569b9bf0462bb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">determineMethod </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$curl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the appropriate constant on the CURL object. </p>
<p>Curl handles method name setting in a slightly counter-intuitive way, so we have a special function for setting the method correctly. Note that since we do not POST as www-form-*, we use a custom post.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$curl</td><td>A curl object. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>An HTTP method name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00374">374</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>Referenced by <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">CURLTransport\handleDoRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="a99e5570b2fd21c80d6244ad1665a85db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">doRequest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em> = <code>'GET'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$headers</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$body</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a request. </p>
<p>Invoking this method causes a single request to be relayed over the transporter. The transporter MUST be capable of handling multiple invocations of a doRequest() call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$uri</td><td>The target URI. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The method to be sent. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$headers</td><td>An array of name/value header pairs. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$body</td><td>The string containing the request body. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interface_h_p_cloud_1_1_transport_1_1_transporter.html#a8c602b141c5f9bef86a982a1826a9140">Transporter</a>.</p>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00085">85</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>References <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">CURLTransport\handleDoRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="a959e766c0228e247c0f5ab687e2d98e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">doRequestWithResource </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$resource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a request, but use a resource to read the body. </p>
<p>This is a special version of the doRequest() function. It handles a very spefic case where...</p>
<ul>
<li>The HTTP verb requires a body (viz. PUT, POST)</li>
<li>The body is in a resource, not a string</li>
</ul>
<p>Examples of appropriate cases for this variant:</p>
<ul>
<li>Uploading large files.</li>
<li>Streaming data out of a stream and into an HTTP request.</li>
<li>Minimizing memory usage ($content strings are big).</li>
</ul>
<p>Note that all parameters are required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$uri</td><td>The target URI. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The method to be sent. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$headers</td><td>An array of name/value header pairs. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$resource</td><td>The string with a file path or a stream URL; or a file object resource. If it is a string, then it will be opened with the default context. So if you need a special context, you should open the file elsewhere and pass the resource in here. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interface_h_p_cloud_1_1_transport_1_1_transporter.html#a959e766c0228e247c0f5ab687e2d98e2">Transporter</a>.</p>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00107">107</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>References <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">CURLTransport\handleDoRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="ae74b8d3c2c0a45733bcc632705409c7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">execCurl </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Poor man's connection pooling. </p>
<p>Instead of using curl_exec(), we use curl_multi_* to handle the processing The CURL multi library tracks connections, and basically provides connection sharing across requests. So two requests made to the same server will use the same connection (even when they are executed separately) assuming that the remote server supports this.</p>
<p>We've noticed that this improves performance substantially, especially since SSL requests only require the SSL handshake once.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$handle</td><td>A CURL handle from curl_init(). </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">boolean</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean Returns a boolean value indicating whether or not CURL could process the request. </dd></dl>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00301">301</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>References <a class="el" href="_c_u_r_l_transport_8php_source.html#l00066">CURLTransport\$multi</a>.</p>

<p>Referenced by <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">CURLTransport\handleDoRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="a02b87280ccafde066ca4f283c82372e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fetchHeaders </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function reads the header file into an array. </p>
<p>This format mataches the format returned by the stream handlers, so we can re-use the header parsing logic in <a class="el" href="class_h_p_cloud_1_1_transport_1_1_response.html" title="A Transport response.">Response</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$file</td><td>A file pointer to the file that has the headers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array of headers, one header per line. </dd></dl>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00346">346</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>References <a class="el" href="streams-tutorial-example_8php_source.html#l00028">$file</a>.</p>

<p>Referenced by <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">CURLTransport\handleDoRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="ae613cf283c40d4f408dc677068ccb9fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">handleDoRequest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$in</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal workhorse. </p>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">128</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>References <a class="el" href="_bootstrap_8php_source.html#l00304">Bootstrap\config()</a>, <a class="el" href="_c_u_r_l_transport_8php_source.html#l00374">CURLTransport\determineMethod()</a>, <a class="el" href="_c_u_r_l_transport_8php_source.html#l00301">CURLTransport\execCurl()</a>, <a class="el" href="_c_u_r_l_transport_8php_source.html#l00346">CURLTransport\fetchHeaders()</a>, <a class="el" href="_bootstrap_8php_source.html#l00337">Bootstrap\hasConfig()</a>, and <a class="el" href="_c_u_r_l_transport_8php_source.html#l00402">CURLTransport\setHeaders()</a>.</p>

<p>Referenced by <a class="el" href="_c_u_r_l_transport_8php_source.html#l00085">CURLTransport\doRequest()</a>, and <a class="el" href="_c_u_r_l_transport_8php_source.html#l00107">CURLTransport\doRequestWithResource()</a>.</p>

</div>
</div>
<a class="anchor" id="abeefab02f826c67acad349b6d3e62c23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setHeaders </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$curl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00402">402</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>References <a class="el" href="oo-tutorial-code_8php_source.html#l00028">$name</a>.</p>

<p>Referenced by <a class="el" href="_c_u_r_l_transport_8php_source.html#l00128">CURLTransport\handleDoRequest()</a>.</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="ae7d8bddec17a4cfedf3cb273ea75733a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$curlInst = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00058">58</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae0d6fd4f745b74b55ab17eb86a9fffe6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$multi = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The curl_multi instance. </p>
<p>By using curl_multi to wrap CURL requests, we can re-use the same connection for multiple requests. This has tremendous value for cases where several transactions occur in short order. </p>

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00066">66</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

<p>Referenced by <a class="el" href="_c_u_r_l_transport_8php_source.html#l00301">CURLTransport\execCurl()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6324ee82189c6077b985b6b77327738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const HTTP_USER_AGENT_SUFFIX = ' (c93c0a) CURL/1.0'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_c_u_r_l_transport_8php_source.html#l00056">56</a> of file <a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/HPCloud/Transport/<a class="el" href="_c_u_r_l_transport_8php_source.html">CURLTransport.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_h_p_cloud.html">HPCloud</a></li><li class="navelem"><a class="el" href="namespace_h_p_cloud_1_1_transport.html">Transport</a></li><li class="navelem"><a class="el" href="class_h_p_cloud_1_1_transport_1_1_c_u_r_l_transport.html">CURLTransport</a></li>
    <li class="footer">Generated on Fri Jan 11 2013 09:17:48 for HPCloud-PHP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
